<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <title>Bimagics – כניסה פשוטה לאתר</title>
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-analytics-compat.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f9fbfd;
            padding-top: 50px;
        }
        .container {
            width: 300px;
            margin: 0 auto;
            padding: 25px;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        button {
            width: 100%;
            margin-top: 10px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 8px;
        }
        #google-btn {
            background-color: #4285F4;
            color: white;
        }
        #phone-btn {
            background-color: #34A853;
            color: white;
        }
        input {
            width: 92%;
            padding: 10px;
            margin-top: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            direction: ltr;
            text-align: center;
        }
        h2 {
            color: #333;
        }
        #recaptcha-container {
            margin-top: 10px;
        }
    </style>
</head>
<body>
<div class="container">
    <h2>כניסה מהירה לאתר</h2>

    <!-- Google Sign-In -->
    <button id="google-btn" onclick="googleSignIn()">התחברות עם Google</button>

    <!-- Phone Number -->
    <input id="phoneNumber" type="text" placeholder="מספר טלפון (לדוג': 0521234567)" maxlength="10">
    <div id="recaptcha-container"></div>
    <button id="phone-btn" onclick="sendCode()">שליחת קוד אימות ב־SMS</button>

    <input id="code" type="text" placeholder="הכנס קוד אימות">
    <button onclick="verifyCode()">אימות והתחברות</button>
</div>

<script>
    // הגדרות Firebase
    const firebaseConfig = {
        apiKey: "AIzaSyAau_zHnz0rubShvUZIOu_oBiP6XuQnQlQ",
        authDomain: "bimagics-auth.firebaseapp.com",
        projectId: "bimagics-auth",
        storageBucket: "bimagics-auth.appspot.com",
        messagingSenderId: "394050199683",
        appId: "1:394050199683:web:a05e9254875eb3372c7bb6",
        measurementId: "G-R5FRWCLVFT"
    };

    firebase.initializeApp(firebaseConfig);
    firebase.analytics();

    // התחברות בלחיצה אחת עם גוגל
    function googleSignIn(){
        const provider = new firebase.auth.GoogleAuthProvider();
        firebase.auth().signInWithPopup(provider)
        .then((result) => alert('התחברת בהצלחה עם Google!'))
        .catch((error) => alert(error.message));
    }

    // אימות טלפון ישראלי בלבד ללא קידומת
    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {
        size: 'invisible'
    });

    let confirmationResult;

    function sendCode() {
        let phone = document.getElementById('phoneNumber').value.trim();
        if (!phone.match(/^05\d{8}$/)) {
            alert('הזן מספר ישראלי תקין (לדוגמה: 0521234567)');
            return;
        }
        const fullNumber = '+972' + phone.slice(1);
        firebase.auth().signInWithPhoneNumber(fullNumber, window.recaptchaVerifier)
        .then((result) => {
            confirmationResult = result;
            alert('קוד אימות נשלח בהצלחה!');
        }).catch((error) => {
            alert(error.message);
            window.recaptchaVerifier.render().then(widgetId => grecaptcha.reset(widgetId));
        });
    }

    function verifyCode() {
        const code = document.getElementById('code').value.trim();
        confirmationResult.confirm(code)
        .then(() => alert('התחברת בהצלחה באמצעות מספר טלפון!'))
        .catch((error) => alert('קוד שגוי, נסה שוב.'));
    }
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <title>Bimagics – כניסה פשוטה לאתר</title>
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-analytics-compat.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f9fbfd;
            padding-top: 50px;
        }
        .container {
            width: 300px;
            margin: 0 auto;
            padding: 25px;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        button {
            width: 100%;
            margin-top: 10px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 8px;
        }
        #google-btn {
            background-color: #4285F4;
            color: white;
        }
        #phone-btn {
            background-color: #34A853;
            color: white;
        }
        input {
            width: 92%;
            padding: 10px;
            margin-top: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            direction: ltr;
            text-align: center;
        }
        h2 {
            color: #333;
        }
        #recaptcha-container {
            margin-top: 10px;
        }
    </style>
</head>
<body>
<div class="container">
    <h2>כניסה מהירה לאתר</h2>

    <!-- Google Sign-In -->
    <button id="google-btn" onclick="googleSignIn()">התחברות עם Google</button>

    <!-- Phone Number -->
    <input id="phoneNumber" type="text" placeholder="מספר טלפון (לדוג': 0521234567)" maxlength="10">
    <div id="recaptcha-container"></div>
    <button id="phone-btn" onclick="sendCode()">שליחת קוד אימות ב־SMS</button>

    <input id="code" type="text" placeholder="הכנס קוד אימות">
    <button onclick="verifyCode()">אימות והתחברות</button>
</div>

<script>
    // הגדרות Firebase
    const firebaseConfig = {
        apiKey: "AIzaSyAau_zHnz0rubShvUZIOu_oBiP6XuQnQlQ",
        authDomain: "bimagics-auth.firebaseapp.com",
        projectId: "bimagics-auth",
        storageBucket: "bimagics-auth.appspot.com",
        messagingSenderId: "394050199683",
        appId: "1:394050199683:web:a05e9254875eb3372c7bb6",
        measurementId: "G-R5FRWCLVFT"
    };

    firebase.initializeApp(firebaseConfig);
    firebase.analytics();

    // התחברות בלחיצה אחת עם גוגל
    function googleSignIn(){
        const provider = new firebase.auth.GoogleAuthProvider();
        firebase.auth().signInWithPopup(provider)
        .then((result) => alert('התחברת בהצלחה עם Google!'))
        .catch((error) => alert(error.message));
    }

    // אימות טלפון ישראלי בלבד ללא קידומת
    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {
        size: 'invisible'
    });

    let confirmationResult;

    function sendCode() {
        let phone = document.getElementById('phoneNumber').value.trim();
        if (!phone.match(/^05\d{8}$/)) {
            alert('הזן מספר ישראלי תקין (לדוגמה: 0521234567)');
            return;
        }
        const fullNumber = '+972' + phone.slice(1);
        firebase.auth().signInWithPhoneNumber(fullNumber, window.recaptchaVerifier)
        .then((result) => {
            confirmationResult = result;
            alert('קוד אימות נשלח בהצלחה!');
        }).catch((error) => {
            alert(error.message);
            window.recaptchaVerifier.render().then(widgetId => grecaptcha.reset(widgetId));
        });
    }

    function verifyCode() {
        const code = document.getElementById('code').value.trim();
        confirmationResult.confirm(code)
        .then(() => alert('התחברת בהצלחה באמצעות מספר טלפון!'))
        .catch((error) => alert('קוד שגוי, נסה שוב.'));
    }
</script>
</body>
</html>
