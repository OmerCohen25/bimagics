<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How It Works | The Intelligent Agent Behind BI MAGICS</title>
    
    <meta name="description" content="See our intelligent Agent in action. Discover how it connects to your DWH, builds a live data catalog, finds relationships, and provides optimization recommendations.">
    <meta name="keywords" content="Data Agent, Automated Data Catalog, Data Governance, BI Architecture, LLM Agnostic, VPC Deployment, Data Optimization, Data Discovery, Self-Service BI">
    <meta name="theme-color" content="#0a0a1a">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.bimagics.com/how-it-works.html">
    <meta property="og:title" content="How It Works | The Intelligent Agent Behind BI MAGICS">
    <meta property="og:description" content="Our agent provides self-service for business teams and a powerful optimization & discovery tool for data teams. See the live, interactive demo.">
    <meta property="og:image" content="https://www.bimagics.com/og-image-how.png">

    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>✨</text></svg>">

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2EY1HGXGNT"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-2EY1HGXGNT');
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&family=Tilt+Neon&family=Fira+Code:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.js"></script>
    <script src="https://unpkg.com/lucide-static@latest/dist/lucide.js"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <style>
        :root { --cyan-glow: rgba(34, 211, 238, 0.5); }
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; background-color: #0a0a1a; color: #E0E0E0; overflow-x: hidden; }
        #bg-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }
        .content-wrapper { position: relative; z-index: 1; }
        .font-tilt-neon { font-family: 'Tilt Neon', sans-serif; }
        .font-fira-code { font-family: 'Fira Code', monospace; }
        .glass-effect { background: rgba(17, 24, 39, 0.6); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .header-scrolled { background: rgba(10, 10, 26, 0.8); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); }
        .neon-text-cyan { text-shadow: 0 0 8px #22D3EE, 0 0 12px #22D3EE, 0 0 20px #67e8f9; }
        
        .fade-in-section { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .fade-in-section.is-visible { opacity: 1; transform: translateY(0); }
        
        .faq-item.open .faq-icon { transform: rotate(135deg); }
        .faq-icon { transition: transform 0.3s ease-in-out; }
        .faq-answer { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-in-out, padding 0.5s ease; padding: 0 1.5rem; }
        .faq-item.open .faq-answer { max-height: 500px; padding: 0.5rem 1.5rem 1.5rem; }

        .pulse-glow { animation: pulse-glow-animation 2s infinite; }
        @keyframes pulse-glow-animation {
            0% { box-shadow: 0 0 0 0 var(--cyan-glow); }
            70% { box-shadow: 0 0 20px 10px rgba(34, 211, 238, 0); }
            100% { box-shadow: 0 0 0 0 rgba(34, 211, 238, 0); }
        }

        .demo-element, .wizard-bubble, .data-tool-content { opacity: 0; transform: scale(0.98) translateY(10px); transition: opacity 0.5s ease-out, transform 0.5s ease-out; }
        .demo-element.visible, .wizard-bubble.visible, .data-tool-content.visible { opacity: 1; transform: scale(1) translateY(0); }
        .lineage-path { stroke-dasharray: 500; stroke-dashoffset: 500; animation: draw-line 1s ease-out forwards; }
        @keyframes draw-line { to { stroke-dashoffset: 0; } }
        .data-tool-tab { border-bottom: 2px solid transparent; transition: all 0.2s ease-in-out; }
        .data-tool-tab.active { color: #22D3EE; border-bottom-color: #22D3EE; }
        .wizbi-bar { transform-origin: left; transition: transform 0.5s ease-out; }
    </style>
</head>
<body class="antialiased">

    <canvas id="bg-canvas"></canvas>

    <div class="content-wrapper">
        <header id="header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300">
             <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                 <div class="flex items-center justify-between h-20 transition-all duration-300">
                     <a href="index.html" class="flex items-center space-x-2">
                         <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-purple-400"><path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                         <span class="text-2xl font-black gradient-text">BI MAGICS</span>
                     </a>
                     <nav class="hidden lg:flex items-center space-x-8 font-medium">
                         <a href="index.html#solutions" class="text-gray-300 hover:text-white transition-colors">Solutions</a>
                         <a href="wizbi.html" class="text-gray-300 hover:text-white transition-colors">WizBI</a>
                         <a href="how-it-works.html" class="text-white transition-colors neon-text-cyan font-bold">How It Works</a>
                         <a href="full-service.html" class="text-gray-300 hover:text-white transition-colors">Full Service</a>
                         <a href="index.html#contact" class="text-gray-300 hover:text-white transition-colors">Contact</a>
                     </nav>
                      <div class="flex items-center gap-4">
                         <div class="hidden lg:block">
                             <a href="#contact-tech" class="bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105">Talk to an Engineer</a>
                         </div>
                         <div class="lg:hidden">
                             <button id="mobile-menu-button" aria-label="Open mobile menu" class="text-white focus:outline-none"><i data-lucide="menu"></i></button>
                         </div>
                     </div>
                 </div>
             </div>
             <div id="mobile-menu" class="hidden lg:hidden glass-effect">
                  <nav class="px-4 pt-2 pb-4 space-y-1 sm:px-6">
                     <a href="index.html#solutions" class="block text-gray-300 hover:text-white py-2 rounded-md">Solutions</a>
                     <a href="wizbi.html" class="block text-gray-300 hover:text-white py-2 rounded-md">WizBI</a>
                     <a href="how-it-works.html" class="block text-white py-2 rounded-md font-bold">How It Works</a>
                     <a href="full-service.html" class="block text-gray-300 hover:text-white py-2 rounded-md">Full Service</a>
                     <a href="index.html#contact" class="block text-gray-300 hover:text-white py-2 rounded-md">Contact</a>
                     <a href="#contact-tech" class="block bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-300 text-center mt-4">Talk to an Engineer</a>
                 </nav>
             </div>
        </header>

        <main class="pt-20">
            <section id="how-it-works-hero" class="py-24 bg-cyan-900/10 fade-in-section is-visible">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center max-w-4xl mx-auto">
                        <h1 class="text-4xl md:text-5xl font-black font-tilt-neon mb-4"><span class="neon-text-cyan">The Intelligent Agent That Powers Modern BI</span></h1>
                        <p class="text-lg md:text-xl text-gray-300">Go beyond dashboards. Our autonomous agent doesn't just enable self-service for your business teams—it gives your data team a powerful new tool for governance, discovery, and optimization.</p>
                    </div>
                </div>
            </section>
            
            <section id="agent-demo" class="py-24 fade-in-section is-visible" x-data="agentDemo">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16">
                        <h2 class="text-3xl md:text-5xl font-black">See The Agent in Real-Time</h2>
                    </div>
                    <div class="max-w-7xl mx-auto flex flex-col items-center">
                        <div class="w-full glass-effect rounded-2xl flex flex-col p-1 border-2 border-cyan-400/30">
                            <div class="flex flex-col md:flex-row p-4 gap-4">
                                <div class="w-full md:w-1/3 lg:w-1/4">
                                    <div class="bg-gray-800/50 rounded-lg p-4 h-full flex flex-col">
                                        <div class="flex items-center gap-3">
                                            <i data-lucide="database" class="w-8 h-8 text-cyan-400"></i>
                                            <div>
                                                <h3 class="font-bold text-lg">Data Warehouse</h3>
                                                <p class="text-xs text-gray-400 font-fira-code">prod_dw_snowflake</p>
                                            </div>
                                        </div>
                                        <div class="space-y-3 mt-4">
                                            <input type="text" value="agent_user@bimagics" disabled class="w-full bg-gray-900/50 border border-gray-600 rounded-lg px-4 py-2 text-sm font-fira-code">
                                            <input type="password" value="**************" disabled class="w-full bg-gray-900/50 border border-gray-600 rounded-lg px-4 py-2 text-sm font-fira-code">
                                        </div>
                                        <div class="mt-auto pt-4">
                                            <button @click="runScript()" :disabled="state !== 'idle'" class="w-full font-bold py-3 px-4 rounded-full text-lg transition-all duration-300 flex items-center justify-center gap-3"
                                                :class="{
                                                    'bg-cyan-600 text-white pulse-glow hover:bg-cyan-500': state === 'idle',
                                                    'bg-green-600 text-white cursor-not-allowed': state !== 'idle',
                                                }">
                                                <i :data-lucide="state === 'idle' ? 'zap' : 'check-circle'"></i>
                                                <span x-text="state === 'idle' ? 'Connect & Run' : 'Connected'"></span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="w-full md:w-2/3 lg:w-3/4 bg-black/20 rounded-lg flex-grow flex flex-col overflow-hidden" style="min-height: 500px;">
                                     <div class="flex-shrink-0 p-2 border-b border-cyan-800/50 text-xs text-cyan-300 font-fira-code text-center">BI MAGICS Agent Console</div>
                                     <div class="flex-grow flex flex-col lg:flex-row p-2 gap-2 overflow-hidden">
                                         <div class="w-full lg:w-3/5 h-full p-2 space-y-3 overflow-y-auto" x-ref="visualPanel">
                                             <template x-for="visual in visuals" :key="visual.id">
                                                 <div class="demo-element" :class="{ 'visible': visual.visible }">
                                                     <template x-if="visual.type === 'table'">
                                                         <div class="p-3 bg-slate-800 rounded-lg border" :class="visual.state === 'rich' ? 'border-purple-500' : 'border-gray-700'">
                                                             <div class="font-bold flex items-center gap-2"><i data-lucide="table-2"></i><span x-text="visual.name"></span></div>
                                                             <template x-if="visual.state === 'rich'">
                                                                 <div class="mt-3 pt-3 border-t border-gray-700 space-y-3 text-xs">
                                                                     <div class="text-purple-300 flex items-start gap-2"><i data-lucide="brain-circuit" class="w-4 h-4 flex-shrink-0 mt-0.5"></i><div><strong class="mr-1">AI Summary:</strong> <span x-text="visual.summary"></span></div></div>
                                                                     <div>
                                                                         <strong class="flex items-center gap-2 mb-2"><i data-lucide="list" class="w-4 h-4 flex-shrink-0"></i>Column Analysis:</strong>
                                                                         <div class="space-y-1 pl-2" x-html="visual.columnsHTML"></div>
                                                                     </div>
                                                                 </div>
                                                             </template>
                                                         </div>
                                                     </template>
                                                     <template x-if="visual.type === 'lineage'"><div class="p-4 bg-slate-800/50 border border-gray-700 rounded-lg text-center" x-html="visual.html"></div></template>
                                                 </div>
                                             </template>
                                             <div x-show="state === 'finished'" class="demo-element" :class="{'visible': state === 'finished'}">
                                                 <div class="mt-4 pt-4 border-t-2 border-dashed border-purple-500/50">
                                                     <h4 class="font-bold text-center text-purple-300 mb-4">WizBI is Now Active</h4>
                                                     <div class="space-y-3">
                                                         <template x-for="message in wizardMessages" :key="message.id">
                                                              <div class="wizard-bubble flex items-end gap-2" :class="[message.author === 'user' ? 'justify-end' : 'justify-start', {'visible': message.visible}]">
                                                                 <div x-show="message.author === 'user'" class="bg-purple-800 rounded-lg p-3 max-w-xs"><p x-text="message.text"></p></div>
                                                                 <div x-show="message.author === 'wizbi'" class="flex items-end gap-2 max-w-md">
                                                                     <i data-lucide="wand-2" class="w-8 h-8 text-purple-300 flex-shrink-0 self-start"></i>
                                                                     <div class="bg-slate-700 rounded-lg p-3 w-full" x-html="message.text"></div>
                                                                 </div>
                                                              </div>
                                                         </template>
                                                     </div>
                                                 </div>
                                             </div>
                                         </div>
                                         <div class="w-full lg:w-2/5 h-full bg-black/50 rounded-md p-2 flex flex-col font-fira-code text-sm overflow-y-auto" x-ref="logContainer">
                                             <template x-for="log in logs" :key="log.id">
                                                 <p :class="log.color" class="flex gap-2 text-xs leading-relaxed"><span class="flex-shrink-0 text-gray-500" x-text="log.timestamp"></span><span class="flex-shrink-0" x-text="log.level"></span><span class="whitespace-pre-wrap flex-1" x-html="log.message"></span></p>
                                             </template>
                                         </div>
                                      </div>
                                 </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="data-team-tools" class="py-24 bg-gray-900/20 fade-in-section is-visible" x-data="dataTeamTools">
                 <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                     <div class="text-center mb-16 max-w-3xl mx-auto">
                         <h2 class="text-3xl md:text-5xl font-black">A Powerful Toolkit for Data Teams</h2>
                         <p class="text-lg text-gray-400">The Agent's work creates valuable assets that empower your team to govern, optimize, and understand your data better than ever before. Explore the outputs:</p>
                     </div>
                     <div class="max-w-5xl mx-auto">
                         <div class="flex justify-center border-b border-gray-700 mb-8">
                             <button @click="activeTab = 'catalog'" :class="{'active': activeTab === 'catalog'}" class="data-tool-tab font-bold text-lg px-6 py-3 text-gray-400 hover:text-white">
                                 <i data-lucide="book-marked" class="inline-block w-5 h-5 mr-2"></i> Live Data Catalog
                             </button>
                             <button @click="activeTab = 'optimize'" :class="{'active': activeTab === 'optimize'}" class="data-tool-tab font-bold text-lg px-6 py-3 text-gray-400 hover:text-white">
                                 <i data-lucide="gauge-circle" class="inline-block w-5 h-5 mr-2"></i> DWH Optimization
                             </button>
                         </div>
                         
                         <div class="relative min-h-[400px]">
                            <div x-show="activeTab === 'catalog'" x-transition:enter.duration.300ms x-transition:leave.duration.200ms class="data-tool-content absolute w-full" :class="{'visible': activeTab === 'catalog'}">
                                 <div class="glass-effect rounded-lg p-6">
                                     <h3 class="text-xl font-bold mb-4">`analytics` Schema Catalog</h3>
                                     <div class="space-y-4">
                                         <div class="bg-slate-800 p-4 rounded-md">
                                             <p class="font-bold font-fira-code text-cyan-300">dim_customers</p>
                                             <p class="text-sm text-gray-300 mt-1"><strong>AI Summary:</strong> Dimension table containing customer profile information, including signup date, location, and account status. Enriched with `country_name` from IP lookup.</p>
                                         </div>
                                         <div class="bg-slate-800 p-4 rounded-md">
                                             <p class="font-bold font-fira-code text-cyan-300">fact_orders</p>
                                             <p class="text-sm text-gray-300 mt-1"><strong>AI Summary:</strong> Central fact table for all sales transactions. Contains order amounts, product IDs, customer IDs, and timestamps. Use for revenue analysis.</p>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                             
                             <div x-show="activeTab === 'optimize'" x-transition:enter.duration.300ms x-transition:leave.duration.200ms class="data-tool-content absolute w-full" :class="{'visible': activeTab === 'optimize'}">
                                  <div class="glass-effect rounded-lg p-6">
                                     <h3 class="text-xl font-bold mb-4">Cost & Performance Insights</h3>
                                     <p class="text-gray-400 mb-6">Agent-identified opportunities to improve performance and reduce warehouse spend, based on query history analysis.</p>
             
                                     <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 text-center">
                                         <div class="bg-slate-800 p-4 rounded-lg">
                                             <p class="text-sm text-gray-400">Estimated Monthly Savings</p>
                                             <p class="text-3xl font-bold text-green-400 mt-1">$3,200</p>
                                         </div>
                                         <div class="bg-slate-800 p-4 rounded-lg">
                                             <p class="text-sm text-gray-400">Top Costly User</p>
                                             <p class="text-2xl font-bold text-yellow-400 mt-2 font-fira-code truncate">d.analyst@corp</p>
                                         </div>
                                         <div class="bg-slate-800 p-4 rounded-lg">
                                             <p class="text-sm text-gray-400">Most Scanned Table</p>
                                             <p class="text-2xl font-bold text-red-400 mt-2 font-fira-code truncate">fact_orders_raw</p>
                                         </div>
                                     </div>
             
                                     <h4 class="text-lg font-bold mb-3 text-cyan-300">Optimization Recommendations</h4>
                                     <div class="space-y-4">
                                         <div class="bg-slate-800 p-4 rounded-md border-l-4 border-yellow-400">
                                             <p class="font-bold mb-2 flex justify-between items-center">
                                                 <span><i data-lucide="alert-triangle" class="inline w-5 h-5 text-yellow-400"></i> Inefficient Query Pattern</span>
                                                 <span class="text-sm font-fira-code text-gray-400">User: d.analyst@corp</span>
                                             </p>
                                             <code class="block bg-black/50 p-2 rounded text-xs font-fira-code text-red-400">SELECT * FROM fact_orders WHERE DATE(order_date) > ...</code>
                                             <p class="text-sm text-gray-300 mt-2"><strong>Recommendation:</strong> Avoid applying functions to partitioned columns. Replace `DATE(order_date)` with a direct timestamp comparison to enable partition pruning.</p>
                                             <p class="text-sm text-green-400 font-bold mt-2">Potential Cost Reduction: ~95% per query</p>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                         </div>
                     </div>
                </div>
            </section>
            
            <section id="architecture-diagram" class="py-24 fade-in-section is-visible">
                 <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                     <div class="text-center mb-16">
                         <h2 class="text-3xl md:text-5xl font-black">Secure By Design</h2>
                         <p class="text-lg text-gray-400 max-w-3xl mx-auto mt-4">Our architecture prioritizes your data's security and integrity above all else.</p>
                     </div>
                     <div class="max-w-4xl mx-auto glass-effect rounded-2xl p-8">
                         <div class="grid md:grid-cols-5 gap-4 md:gap-8 items-center text-center">
                             <div class="md:col-span-2 flex flex-col items-center gap-4">
                                 <i data-lucide="users" class="w-12 h-12 text-purple-300"></i>
                                 <h3 class="font-bold text-lg">Business Teams</h3>
                                 <p class="text-sm text-gray-400">Ask questions in Slack, Web App, etc.</p>
                             </div>
                             <div class="text-gray-500">
                                 <i data-lucide="arrow-left-right" class="w-12 h-12 mx-auto"></i>
                                 <p class="text-xs font-fira-code mt-2">Natural Language to SQL</p>
                             </div>
                             <div class="md:col-span-2 flex flex-col items-center gap-4 p-6 rounded-lg border-2 border-cyan-400 border-dashed">
                                 <h3 class="font-bold text-lg text-cyan-300">Your Secure Cloud (VPC)</h3>
                                 <div class="w-full space-y-4">
                                     <div class="flex items-center gap-3 bg-gray-800 p-3 rounded-md">
                                         <i data-lucide="database" class="w-6 h-6 text-cyan-400"></i>
                                         <span class="text-sm">Your Data Warehouse</span>
                                     </div>
                                     <div class="flex items-center gap-3 bg-gray-800 p-3 rounded-md">
                                         <i data-lucide="cpu" class="w-6 h-6 text-purple-400"></i>
                                         <span class="text-sm">BI MAGICS Agent (Read-Only)</span>
                                     </div>
                                 </div>
                                 <p class="text-xs text-gray-500 mt-2">Raw data is never moved or stored.</p>
                             </div>
                         </div>
                     </div>
                 </div>
            </section>

            <section id="faq-how" class="py-24 bg-gray-900/20 fade-in-section is-visible">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl">
                    <div class="text-center mb-16">
                        <h2 class="text-3xl md:text-5xl font-black font-tilt-neon mb-4">Technical & Security FAQs</h2>
                        <p class="text-lg text-gray-400 max-w-2xl mx-auto">Answering the important questions for data and engineering teams.</p>
                    </div>
                    <div class="space-y-4" x-data="{ open: 1 }">
                        <div class="glass-effect rounded-lg faq-item" :class="{'open': open === 1}">
                            <button @click="open = (open === 1 ? null : 1)" class="w-full flex justify-between items-center text-left text-xl font-semibold p-6">
                                <span>Can we deploy the agent in our own cloud environment?</span><i data-lucide="plus" class="faq-icon w-6 h-6 text-cyan-400"></i>
                            </button>
                            <div class="faq-answer"><p class="text-gray-300 leading-relaxed"><strong>Absolutely.</strong> For maximum security and control, our Agent can be deployed entirely within your own VPC. This means your data, including metadata, never leaves your secure cloud environment, ensuring compliance with the strictest data residency and privacy policies.</p></div>
                        </div>
                        <div class="glass-effect rounded-lg faq-item" :class="{'open': open === 2}">
                            <button @click="open = (open === 2 ? null : 2)" class="w-full flex justify-between items-center text-left text-xl font-semibold p-6">
                                <span>Are we locked into a specific LLM?</span><i data-lucide="plus" class="faq-icon w-6 h-6 text-cyan-400"></i>
                            </button>
                             <div class="faq-answer"><p class="text-gray-300 leading-relaxed"><strong>No. We are model-agnostic.</strong> Our platform is designed for flexibility. While we have optimized integrations with leading models like Google's Gemini and OpenAI's GPT series, you can connect to your preferred LLM. This includes private models hosted in your environment or any other commercial or open-source model you choose.</p></div>
                        </div>
                        <div class="glass-effect rounded-lg faq-item" :class="{'open': open === 3}">
                            <button @click="open = (open === 3 ? null : 3)" class="w-full flex justify-between items-center text-left text-xl font-semibold p-6">
                                <span>Do you store a copy of our raw data?</span><i data-lucide="plus" class="faq-icon w-6 h-6 text-cyan-400"></i>
                            </button>
                             <div class="faq-answer"><p class="text-gray-300 leading-relaxed"><strong>Never.</strong> We are a metadata-only platform. Our Agent analyzes schemas, column names, and query logs. When a user asks a question, we generate a real-time SQL query that runs directly in your warehouse. The results are streamed back to the user, not stored on our servers.</p></div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="contact-tech" class="py-24">
                 <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center max-w-3xl">
                     <i data-lucide="binary" class="w-16 h-16 text-cyan-300 mx-auto mb-6"></i>
                     <h2 class="text-4xl font-black font-tilt-neon mb-4">Ready for a Technical Deep-Dive?</h2>
                     <p class="text-lg text-gray-300 mb-8">Have questions about our architecture, security protocols, or the Agent's capabilities? Our engineers are ready to talk.</p>
                     <a href="mailto:hello@bimagics.com?subject=Technical%20Deep-Dive%20Request" class="inline-block bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-4 px-10 rounded-full text-lg transition-all duration-300 transform hover:scale-105">
                         Schedule a Call with an Engineer
                     </a>
                 </div>
            </section>
        </main>

        <footer class="bg-gray-900/50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
                <div class="text-center text-gray-500">
                    <p>&copy; <span id="year-footer"></span> BI MAGICS. All Spells Reserved.</p>
                    <p class="text-xs mt-2">Built with ✨ for modern data-driven teams</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
    document.addEventListener('alpine:init', () => {
        Alpine.data('agentDemo', () => ({
            state: 'idle',
            logs: [],
            visuals: [],
            wizardMessages: [],
            
            get scriptRunning() { return this.state === 'running' },

            clearPrevious() {
                this.state = 'running';
                this.logs = [];
                this.visuals = [];
                this.wizardMessages = [];
                this.$nextTick(() => lucide.createIcons());
            },
            
            addLog(log, delay = 100) {
                return new Promise(resolve => setTimeout(() => {
                    this.logs.push({ id: Date.now() + Math.random(), timestamp: new Date().toLocaleTimeString(), level: `[${log.level.padEnd(8)}]`, message: log.message, color: log.color });
                    this.$nextTick(() => { if (this.$refs.logContainer) this.$refs.logContainer.scrollTop = this.$refs.logContainer.scrollHeight; });
                    resolve();
                }, delay));
            },

            updateVisual(id, data, delay = 100) {
                 return new Promise(resolve => setTimeout(() => {
                    const visual = this.visuals.find(v => v.id === id);
                    if(visual) { Object.assign(visual, data); }
                    this.$nextTick(() => { lucide.createIcons(); });
                    resolve();
                }, delay));
            },

            addVisual(data, delay = 100) {
                return new Promise(resolve => setTimeout(() => {
                    const newVisual = { visible: false, ...data };
                    this.visuals.push(newVisual);
                    this.$nextTick(() => {
                        this.visuals[this.visuals.length - 1].visible = true;
                        lucide.createIcons();
                        if(this.$refs.visualPanel) this.$refs.visualPanel.scrollTop = this.$refs.visualPanel.scrollHeight;
                    });
                    resolve();
                }, delay));
            },

            addWizardMessage(msg, delay = 100) {
                return new Promise(resolve => setTimeout(() => {
                    const newMsg = { id: Date.now() + Math.random(), visible: false, ...msg };
                    this.wizardMessages.push(newMsg);
                    this.$nextTick(() => {
                       this.wizardMessages.find(m => m.id === newMsg.id).visible = true;
                       lucide.createIcons();
                       if(this.$refs.visualPanel) this.$refs.visualPanel.scrollTop = this.$refs.visualPanel.scrollHeight;
                       resolve();
                    });
                }, delay));
            },
            
            async runScript() {
                if (this.state !== 'idle') return;
                this.clearPrevious();
                
                try {
                    await this.addLog({ level: 'INIT', message: 'Agent activated. Secure connection established.', color: 'text-cyan-400' }, 200);
                    await this.addLog({ level: 'SCAN', message: "Parsing `INFORMATION_SCHEMA`...", color: 'text-gray-400' }, 500);
                    await this.addLog({ level: 'SCAN', message: "Found 3 schemas: `analytics`, `raw_data`, `staging`", color: 'text-gray-400' }, 500);
                    await this.addLog({ level: 'MAP', message: "Mapping `analytics` schema...", color: 'text-gray-400' }, 300);
                    
                    await this.addLog({ level: 'DISCOVER', message: 'Found table: `dim_customers` (21 columns)', color: 'text-gray-400' }, 400);
                    await this.addVisual({id: 'dim_customers', type: 'table', name: 'dim_customers', state: 'basic'}, 300);
                    
                    await this.addLog({ level: 'ANALYZE', message: 'Analyzing `dim_customers` structure...', color: 'text-gray-400' }, 800);
                    await this.updateVisual('dim_customers', {
                        state: 'rich',
                        summary: 'Customer profiles, location, and status data.',
                        columnsHTML: [
                            { name: 'id', type: 'VARCHAR', desc: 'Primary key for the customer.', icon: 'key-round' },
                            { name: 'email', type: 'VARCHAR', desc: 'Customer\'s unique email address (PII).', icon: 'mail' },
                            { name: 'signup_date', type: 'TIMESTAMP', desc: 'Timestamp of customer registration.', icon: 'calendar' }
                        ].map(c => `<div class="grid grid-cols-3 gap-2 items-center text-gray-400"><div class="font-fira-code flex items-center gap-1.5"><i data-lucide="${c.icon}" class="w-3 h-3 ${c.icon === 'key-round' ? 'text-yellow-400' : ''}"></i>${c.name}</div><div class="font-fira-code text-cyan-400">${c.type}</div><div class="text-gray-500 truncate">${c.desc}</div></div>`).join('')
                    }, 500);

                    await this.addLog({ level: 'DISCOVER', message: 'Found table: `fact_orders` (15 columns)', color: 'text-gray-400' }, 500);
                    await this.addVisual({id: 'fact_orders', type: 'table', name: 'fact_orders', state: 'basic'}, 300);
                    
                    await this.addLog({ level: 'ANALYZE', message: 'Analyzing `fact_orders` structure...', color: 'text-gray-400' }, 800);
                    await this.updateVisual('fact_orders', {
                        state: 'rich',
                        summary: 'Core table for sales transactions and revenue analysis.',
                        columnsHTML: [
                            { name: 'order_id', type: 'VARCHAR', desc: 'Primary key for the order.', icon: 'key-round' },
                            { name: 'amount', type: 'NUMBER(10,2)', desc: 'Total transaction value.', icon: 'dollar-sign' },
                            { name: 'order_date', type: 'TIMESTAMP', desc: 'Timestamp of the transaction.', icon: 'calendar' }
                        ].map(c => `<div class="grid grid-cols-3 gap-2 items-center text-gray-400"><div class="font-fira-code flex items-center gap-1.5"><i data-lucide="${c.icon}" class="w-3 h-3 ${c.icon === 'key-round' ? 'text-yellow-400' : ''}"></i>${c.name}</div><div class="font-fira-code text-cyan-400">${c.type}</div><div class="text-gray-500 truncate">${c.desc}</div></div>`).join('')
                    }, 500);
                    
                    await this.addLog({ level: 'HISTORY', message: 'Analyzing query history for relationships...', color: 'text-gray-400' }, 1000);
                    await this.addLog({ level: 'HISTORY', message: 'Found 287 queries joining `fact_orders` and `dim_customers` in last 30d.', color: 'text-gray-400' }, 800);
                    await this.addLog({ level: 'RELATION', message: 'Inferred JOIN key: <span class="text-yellow-400">fact_orders.customer_id</span> -> <span class="text-yellow-400">dim_customers.id</span>', color: 'text-gray-400' }, 500);
                    
                    // === SVG FIX: Added text-anchor="middle" ===
                    await this.addVisual({id: 'lineage', type: 'lineage', html: `<h4 class="font-bold text-sm mb-3 text-cyan-300">Inferred Data Lineage</h4><svg viewBox="0 0 300 60" class="w-full h-auto"><defs><marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#67e8f9"></path></marker></defs><g><rect x="10" y="15" width="100" height="30" rx="5" fill="#1e293b" stroke="#38bdf8"></rect><text x="60" y="35" font-size="10" fill="white" class="font-fira-code" text-anchor="middle">dim_customers</text></g><g><rect x="190" y="15" width="100" height="30" rx="5" fill="#1e293b" stroke="#38bdf8"></rect><text x="240" y="35" font-size="10" fill="white" class="font-fira-code" text-anchor="middle">fact_orders</text></g><path d="M 110 30 L 190 30" stroke="#67e8f9" stroke-width="1.5" marker-end="url(#arrow)" class="lineage-path"></path></svg>`}, 500);
                    
                    await this.addLog({ level: 'COMPLETE', message: 'Cataloging complete. <span class="text-purple-300">WizBI</span> is now enabled.', color: 'text-green-400' }, 1000);
                    
                    this.state = 'finished';
                    await this.runWizardHandoff();

                } catch(e) { console.error("Agent demo failed:", e); }
            },
            
            async runWizardHandoff() {
                await new Promise(r => setTimeout(r, 1500));
                await this.addWizardMessage({ author: 'user', text: 'Show me the top 5 products by revenue' }, 500);
                await new Promise(r => setTimeout(r, 1500));
                const chartData = [{label: 'Quantum Widget', val: 100, num: '$450K'}, {label: 'Hyper-Module', val: 71, num: '$320K'}, {label: 'Omega Gear', val: 62, num: '$280K'}, {label: 'Nano-Connector', val: 42, num: '$190K'}, {label: 'Zeta Probe', val: 33, num: '$150K'}];
                const chartHTML = `<div class="space-y-2 mt-2 p-2">${chartData.map(p => `<div class="text-xs text-gray-300 grid grid-cols-3 gap-2 items-center"><span class="font-bold truncate">${p.label}</span><div class="col-span-2 flex items-center gap-2"><span class="inline-block h-4 bg-gradient-to-r from-purple-500 to-cyan-500 rounded-sm wizbi-bar" style="width: ${p.val}%; transform: scaleX(0);"></span><span class="font-fira-code text-cyan-300">${p.num}</span></div></div>`).join('')}</div>`;
                await this.addWizardMessage({ author: 'wizbi', text: `<p>Of course. Here are the top 5 products by revenue from the newly cataloged data:</p>${chartHTML}` }, 500);
                this.$nextTick(() => { this.$refs.visualPanel.querySelectorAll('.wizbi-bar').forEach((bar, index) => { setTimeout(() => bar.style.transform = 'scaleX(1)', index * 50); }); });
            }
        }));
        
        Alpine.data('dataTeamTools', () => ({
            activeTab: 'catalog',
        }));
    });
    
    const App = {
        init() {
            this.setupMobileMenu(); 
            this.setupHeaderScroll(); 
            this.initThreeJSBackground(); 
            this.updateDynamicContent();
            this.setupIntersectionObserver();
        },
        updateDynamicContent() { 
            if (typeof lucide !== 'undefined') { lucide.createIcons(); }
            document.querySelector('#year-footer').textContent = new Date().getFullYear(); 
        },
        setupMobileMenu() {
            const btn = document.getElementById('mobile-menu-button'); 
            const menu = document.getElementById('mobile-menu');
            if(!btn || !menu) return;
            const toggleMenu = () => menu.classList.toggle('hidden');
            btn.addEventListener('click', toggleMenu);
            menu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                     if (!menu.classList.contains('hidden')) { toggleMenu(); }
                });
            });
        },
        setupHeaderScroll() { 
            const header = document.getElementById('header');
            if(!header) return;
            window.addEventListener('scroll', () => header.classList.toggle('header-scrolled', window.scrollY > 50), { passive: true }); 
        },
        setupIntersectionObserver() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                    }
                });
            }, { threshold: 0.1 });
            document.querySelectorAll('.fade-in-section').forEach(el => observer.observe(el));
        },
        initThreeJSBackground() {
            try {
                const canvas = document.getElementById('bg-canvas');
                if (!canvas) return;
                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true });
                renderer.setPixelRatio(window.devicePixelRatio);
                renderer.setSize(window.innerWidth, window.innerHeight);
                camera.position.setZ(30);
                const starGeometry = new THREE.BufferGeometry();
                const starCount = 8000;
                const positions = new Float32Array(starCount * 3);
                for (let i = 0; i < starCount * 3; i++) { positions[i] = (Math.random() - 0.5) * 200; }
                starGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                const starMaterial = new THREE.PointsMaterial({ color: 0xaaaaaa, size: 0.15, transparent: true, blending: THREE.AdditiveBlending });
                const stars = new THREE.Points(starGeometry, starMaterial);
                scene.add(stars);
                let mouseX = 0, mouseY = 0;
                document.addEventListener('mousemove', e => { mouseX = (e.clientX / window.innerWidth) * 2 - 1; mouseY = -(e.clientY / window.innerHeight) * 2 + 1; }, { passive: true });
                window.addEventListener('resize', () => { camera.aspect = window.innerWidth / window.innerHeight; camera.updateProjectionMatrix(); renderer.setSize(window.innerWidth, window.innerHeight); });
                function animate() {
                    requestAnimationFrame(animate);
                    stars.rotation.y += 0.0001;
                    stars.rotation.x += 0.0001;
                    camera.position.x += (mouseX * 5 - camera.position.x) * 0.02;
                    camera.position.y += (mouseY * 5 - camera.position.y) * 0.02;
                    camera.lookAt(scene.position);
                    renderer.render(scene, camera);
                }
                animate();
            } catch (e) {
                console.error("Three.js failed to initialize:", e);
                document.body.style.backgroundColor = '#0a0a1a';
            }
        }
    };
    document.addEventListener('DOMContentLoaded', () => { App.init(); });
    </script>
</body>
</html>
