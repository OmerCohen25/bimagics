<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Agent: Automated Data Governance | BI MAGICS</title>
    
    <meta name="description" content="Automate data governance with the Data Agent. Discover automated data catalog, lineage, cost optimization, and engineer chat assistance.">
    <meta name="keywords" content="Data Agent, Data Governance, Data Catalog, Data Lineage, Data Warehouse Optimization, Cost Optimization, Data Engineer Tools">
    <meta name="theme-color" content="#0a0a1a">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.bimagics.com/data-agent.html">
    <meta property="og:title" content="Data Agent: Automated Data Governance | BI MAGICS">
    <meta property="og:description" content="Automate data governance with the Data Agent. Discover automated data catalog, lineage, cost optimization, and engineer chat assistance.">
    <meta property="og:image" content="https://www.bimagics.com/og-image.png">

    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>âœ¨</text></svg>">

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2EY1HGXGNT"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-2EY1HGXGNT');
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&family=Tilt+Neon&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.js"></script>
    <script src="https://unpkg.com/lucide-static@latest/dist/lucide.js"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <style>
        /* General Styles */
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; background-color: #0a0a1a; color: #E0E0E0; overflow-x: hidden; }
        #bg-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }
        .content-wrapper { position: relative; z-index: 1; }
        .font-tilt-neon { font-family: 'Tilt Neon', sans-serif; }
        .glass-effect { background: rgba(17, 24, 39, 0.6); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .header-scrolled { background: rgba(10, 10, 26, 0.8); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); }
        .header-scrolled .h-20 { height: 4.5rem; }

        /* Text & Gradients */
        .neon-text-cyan { text-shadow: 0 0 5px #22D3EE, 0 0 10px #22D3EE, 0 0 15px #67e8f9; }
        .gradient-text { background: linear-gradient(90deg, #A855F7, #22D3EE); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-fill-color: transparent; }
        
        /* Animations */
        .fade-in-section { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .fade-in-section.is-visible { opacity: 1; transform: translateY(0); }
        .fade-in-element { opacity: 0; transform: translateY(20px); transition: opacity 0.5s ease-out, transform 0.5s ease-out; }
        .fade-in-element.is-visible { opacity: 1; transform: translateY(0); }
        @keyframes draw-line { to { stroke-dashoffset: 0; } }

        /* Data Agent Demo Visuals */
        .data-agent-btn { transition: all 0.2s ease-in-out; }
        .data-agent-btn.active { background-color: #22D3EE; color: #0a0a1a; box-shadow: 0 0 15px #22D3EE; }
        .lineage-path { stroke-dasharray: 1000; stroke-dashoffset: 1000; animation: draw-line 1s ease-out forwards; }
        .agent-chat-bubble-user { background: #1e40af; border-color: #3b82f6; }
        .agent-chat-bubble-agent { background: #1e293b; border-color: #4f46e5; }
        .code-block { background-color: #020617; }
    </style>
</head>
<body class="antialiased">

    <canvas id="bg-canvas"></canvas>

    <div class="content-wrapper">
        <header id="header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-20 transition-all duration-300">
                    <a href="index.html" class="flex items-center space-x-2">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-purple-400"><path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                        <span class="text-2xl font-bold font-tilt-neon gradient-text">BI MAGICS</span>
                    </a>
                    <nav class="hidden lg:flex items-center space-x-8">
                        <a href="index.html#solutions" class="text-gray-300 hover:text-white transition-colors">Solutions</a>
                        <a href="wizards.html" class="text-gray-300 hover:text-white transition-colors">WizBI</a>
                        <a href="data-agent.html" class="text-white transition-colors neon-text-cyan">Data Agent</a>
                        <a href="bi-services.html" class="text-gray-300 hover:text-white transition-colors">BI Services</a>
                        <a href="index.html#contact" class="text-gray-300 hover:text-white transition-colors">Contact</a>
                    </nav>
                    <div class="flex items-center gap-4">
                        <div class="hidden lg:block">
                            <a href="index.html#contact" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105">Let's Talk</a>
                        </div>
                        <div class="lg:hidden">
                            <button id="mobile-menu-button" aria-label="Open mobile menu" class="text-white focus:outline-none"><i data-lucide="menu"></i></button>
                        </div>
                    </div>
                </div>
            </div>
            <div id="mobile-menu" class="hidden lg:hidden glass-effect">
                <nav class="px-4 pt-2 pb-4 space-y-1 sm:px-6">
                    <a href="index.html#solutions" class="block text-gray-300 hover:text-white py-2 rounded-md">Solutions</a>
                    <a href="wizards.html" class="block text-gray-300 hover:text-white py-2 rounded-md">WizBI</a>
                    <a href="data-agent.html" class="block text-white py-2 rounded-md">Data Agent</a>
                    <a href="bi-services.html" class="block text-gray-300 hover:text-white py-2 rounded-md">BI Services</a>
                    <a href="index.html#contact" class="block text-gray-300 hover:text-white py-2 rounded-md">Contact</a>
                    <a href="index.html#contact" class="block bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-300 text-center mt-4">Let's Talk</a>
                </nav>
            </div>
        </header>

        <main class="pt-20">
             <section id="data-agent" class="py-24 bg-cyan-900/10 fade-in-section is-visible">
                 <div class="container mx-auto px-4 sm:px-6 lg:px-8" x-data="dataAgentDemo">
                    <div class="text-center mb-16">
                        <h2 class="text-4xl md:text-5xl font-black font-tilt-neon mb-4"><span class="neon-text-cyan">Data Agent:</span> Your Automated Data Guardian</h2>
                        <p class="text-lg text-gray-300 mb-2"><strong>Who is this for?</strong> Data Engineers, Analysts, and BI teams who manage the data infrastructure.</p>
                        <p class="text-lg text-gray-300 max-w-3xl mx-auto">Stop firefighting and start innovating. The Data Agent works 24/7 in your data warehouse to map, monitor, and optimize, giving you a reliable and cost-effective data backend.</p>
                    </div>
                    <div class="flex flex-col lg:grid lg:grid-cols-12 gap-8 items-start">
                        <div class="w-full lg:col-span-3 space-y-4">
                            <button @click="runScript('mapping')" :class="{'active': activeScript === 'mapping'}" class="data-agent-btn w-full text-left glass-effect p-4 rounded-lg border border-cyan-400/50 hover:bg-cyan-400/20">
                                <div class="flex items-center gap-3"><i data-lucide="map"></i><span class="font-bold text-lg">Auto-Catalog & Lineage</span></div>
                                <p class="text-sm text-gray-400 mt-1">See how the agent discovers and documents assets.</p>
                            </button>
                            <button @click="runScript('optimization')" :class="{'active': activeScript === 'optimization'}" class="data-agent-btn w-full text-left glass-effect p-4 rounded-lg border border-cyan-400/50 hover:bg-cyan-400/20">
                                <div class="flex items-center gap-3"><i data-lucide="zap"></i><span class="font-bold text-lg">Cost & Performance Tuning</span></div>
                                <p class="text-sm text-gray-400 mt-1">Find costly queries and unused tables.</p>
                            </button>
                            <button @click="runScript('chat')" :class="{'active': activeScript === 'chat'}" class="data-agent-btn w-full text-left glass-effect p-4 rounded-lg border border-cyan-400/50 hover:bg-cyan-400/20">
                                <div class="flex items-center gap-3"><i data-lucide="message-circle"></i><span class="font-bold text-lg">Engineer Chat Assist</span></div>
                                <p class="text-sm text-gray-400 mt-1">Chat with the agent to debug and understand data.</p>
                            </button>
                        </div>
                        <div class="w-full lg:col-span-9 h-[550px] glass-effect rounded-2xl flex flex-col p-1 border-2 border-cyan-400/30">
                             <div class="flex-shrink-0 p-2 border-b border-cyan-800/50 flex items-center justify-between"><div class="flex items-center gap-2"><span class="w-3 h-3 bg-red-500 rounded-full"></span><span class="w-3 h-3 bg-yellow-500 rounded-full"></span><span class="w-3 h-3 bg-green-500 rounded-full"></span></div><div class="text-xs text-cyan-300 font-mono">Data Agent Console</div></div>
                             <div class="flex-grow flex flex-col lg:flex-row p-2 gap-2 overflow-hidden h-full">
                                 <div class="w-full lg:w-1/2 bg-black/20 rounded-lg p-4 overflow-y-auto" x-ref="visualPanel">
                                    <div x-show="!scriptRunning && !logs.length" class="h-full flex flex-col items-center justify-center text-gray-500 text-center">
                                        <i data-lucide="play-circle" class="w-16 h-16 mb-4"></i>
                                        <p>Select a capability to see the magic happen.</p>
                                    </div>
                                    <div x-show="scriptRunning && !logs.length" class="h-full flex flex-col items-center justify-center text-gray-400">
                                        <div class="w-12 h-12 border-4 border-t-cyan-400 border-gray-600 rounded-full animate-spin"></div>
                                        <p class="mt-4">Initializing script...</p>
                                    </div>
                                 </div>
                                <div class="w-full lg:w-1/2 bg-black/20 rounded-lg p-4 flex flex-col font-mono text-sm overflow-y-auto" x-ref="logContainer">
                                    <template x-for="log in logs" :key="log.id"><p :class="log.color" class="flex gap-2"><span class="flex-shrink-0 text-gray-500" x-text="log.timestamp"></span><span class="flex-shrink-0" x-text="log.level"></span><span class="whitespace-pre-wrap" x-html="log.message"></span></p></template>
                                </div>
                             </div>
                        </div>
                    </div>
                 </div>
            </section>
        </main>

        <footer class="bg-gray-900/50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
                <div class="text-center text-gray-500">
                    <p>&copy; <span class="year"></span> BI MAGICS. All Spells Reserved.</p>
                     <p class="text-xs mt-2">Crafted with magic in Tel Aviv</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
    document.addEventListener('alpine:init', () => {
        Alpine.data('dataAgentDemo', () => ({
            logs: [], status: 'IDLE', activeScript: null, scriptRunning: false,
            init() {
                this.$nextTick(() => { this.runScript('mapping'); });
            },
            clearPrevious() { 
                this.logs = []; 
                if (this.$refs.visualPanel) this.$refs.visualPanel.innerHTML = '<div x-show="!scriptRunning && !logs.length" class="h-full flex flex-col items-center justify-center text-gray-500 text-center"><i data-lucide="play-circle" class="w-16 h-16 mb-4"></i><p>Select a capability to see the magic happen.</p></div><div x-show="scriptRunning && !logs.length" class="h-full flex flex-col items-center justify-center text-gray-400"><div class="w-12 h-12 border-4 border-t-cyan-400 border-gray-600 rounded-full animate-spin"></div><p class="mt-4">Initializing script...</p></div>'; 
                this.scriptRunning = true; 
            },
            renderIcons() {
                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                }
            },
            addLog(log, delay) { 
                return new Promise(resolve => { setTimeout(() => { 
                    if (this.logs.length > 50) this.logs.shift(); 
                    this.logs.push({ id: Date.now(), timestamp: new Date().toLocaleTimeString(), level: `[${log.level.padEnd(8)}]`, message: log.message, color: log.color }); 
                    this.$nextTick(() => { if (this.$refs.logContainer) this.$refs.logContainer.scrollTop = this.$refs.logContainer.scrollHeight }); 
                    resolve(); 
                }, delay); }); 
            },
            addVisual(id, html, delay) {
                return new Promise(resolve => {
                    setTimeout(() => {
                        if (!this.$refs.visualPanel) { resolve(); return; }
                        const el = document.createElement('div');
                        el.id = `vis-${id}`;
                        el.className = 'fade-in-element';
                        el.innerHTML = html;
                        if(this.logs.length === 0) this.$refs.visualPanel.innerHTML = '';
                        this.$refs.visualPanel.appendChild(el);
                        this.$nextTick(() => {
                            setTimeout(() => {
                                el.classList.add('is-visible');
                                this.renderIcons();
                            }, 10);
                            this.$refs.visualPanel.scrollTop = this.$refs.visualPanel.scrollHeight;
                            resolve();
                        });
                    }, delay);
                });
            },
            updateVisual(id, newHtml) {
                return new Promise(resolve => {
                    if (!this.$refs.visualPanel) { resolve(); return; }
                    const el = this.$refs.visualPanel.querySelector(`#vis-${id}`);
                    if (el) {
                        el.innerHTML = newHtml;
                        this.renderIcons();
                    }
                    resolve();
                });
            },
            animateCounter(id, finalValue, duration) {
                const el = this.$refs.visualPanel.querySelector(`#${id}`);
                if (!el) return;
                let start = 0;
                const increment = finalValue / (duration / 16);
                const interval = setInterval(() => {
                    start += increment;
                    if (start >= finalValue) {
                        el.innerText = `$${finalValue.toLocaleString()}`;
                        clearInterval(interval);
                    } else {
                        el.innerText = `$${Math.ceil(start).toLocaleString()}`;
                    }
                }, 16);
            },
            async runScript(scriptName) {
                if (this.scriptRunning) return;
                this.activeScript = scriptName;
                this.clearPrevious();

                try {
                    if (scriptName === 'mapping') {
                        await this.addLog({ level: 'INIT', message: 'Starting warehouse catalog process...', color: 'text-cyan-400' }, 100);
                        await this.addVisual('title', '<h3 class="text-lg font-bold text-white mb-4">Live Data Catalog & Lineage</h3>', 100);
                        await this.addLog({ level: 'SCAN', message: 'Scanning schema: `prod`...', color: 'text-gray-400' }, 500);
                        await this.addVisual('db', '<div class="flex items-center gap-2 p-2 bg-slate-800 rounded"><i data-lucide="database"></i><span>prod_db</span></div>', 500);
                        await this.addLog({ level: 'CATALOG', message: 'Found table: `fact_orders`', color: 'text-gray-400' }, 700);
                        await this.addVisual('table', '<div class="ml-6 my-2 p-2 border border-gray-600 rounded bg-slate-800 transition-all duration-300"><div class="font-bold flex items-center gap-2"><i data-lucide="table-2"></i>fact_orders</div><div id="columns" class="mt-2 pl-4 space-y-1 text-sm"></div></div>', 700);
                        await this.addLog({ level: 'ANALYZE', message: 'Analyzing columns for `fact_orders`...', color: 'text-gray-400' }, 300);
                        await this.updateVisual('table', '<div class="font-bold flex items-center gap-2"><i data-lucide="table-2"></i>fact_orders</div><div id="columns" class="mt-2 pl-4 space-y-1 text-sm"><p class="fade-in-element is-visible text-gray-400">order_id <span class="text-purple-400">(INT)</span></p></div>');
                        await new Promise(r => setTimeout(r, 400));
                        await this.updateVisual('table', '<div class="font-bold flex items-center gap-2"><i data-lucide="table-2"></i>fact_orders</div><div id="columns" class="mt-2 pl-4 space-y-1 text-sm"><p class="fade-in-element is-visible text-gray-400">order_id <span class="text-purple-400">(INT)</span></p><p class="fade-in-element is-visible text-gray-400">amount <span class="text-purple-400">(DECIMAL)</span></p></div>');
                        await new Promise(r => setTimeout(r, 400));
                        await this.updateVisual('table', '<div class="font-bold flex items-center gap-2"><i data-lucide="table-2"></i>fact_orders</div><div id="columns" class="mt-2 pl-4 space-y-1 text-sm"><p class="fade-in-element is-visible text-gray-400">order_id <span class="text-purple-400">(INT)</span></p><p class="fade-in-element is-visible text-gray-400">amount <span class="text-purple-400">(DECIMAL)</span></p><p class="fade-in-element is-visible text-gray-400">customer_email <span class="text-purple-400">(VARCHAR)</span></p></div>');
                        await this.addLog({ level: 'AI-DOC', message: 'Generating business description...', color: 'text-purple-400' }, 800);
                        await this.addVisual('ai-doc', '<div class="p-2 ml-6 my-2 bg-purple-900/50 border-l-2 border-purple-400 text-purple-300 text-xs flex items-start gap-2"><i data-lucide="sparkles" class="w-4 h-4 mt-0.5 flex-shrink-0"></i><div><strong>AI Description:</strong> Contains core order information including amount, status, and customer keys. Central table for revenue reporting.</div></div>', 800);
                        await this.addLog({ level: 'PII-SCAN', message: 'Scanning `fact_orders` for PII...', color: 'text-yellow-400' }, 500);
                        await this.addLog({ level: 'PII-FOUND', message: 'PII found in `customer_email`. Tagging applied.', color: 'text-yellow-400' }, 1000);
                        this.$refs.visualPanel.querySelector('#vis-table > div').classList.add('bg-yellow-900/30', 'border-yellow-500');
                        await this.addLog({ level: 'LINEAGE', message: 'Tracing downstream dependencies...', color: 'text-gray-400' }, 800);
                        await this.addVisual('lineage', '<svg class="w-full h-24 my-2"><line x1="50%" y1="0" x2="50%" y2="100%" stroke="#475569" stroke-width="2" class="lineage-path"/></svg><div class="flex items-center gap-2 p-2 bg-slate-800 rounded border border-cyan-500"><i data-lucide="pie-chart"></i><span>rpt_monthly_revenue</span></div>', 800);
                        await this.addLog({ level: 'DONE', message: 'Catalog & lineage mapping complete.', color: 'text-green-400' }, 500);
                    } else if (scriptName === 'optimization') {
                        await this.addLog({ level: 'INIT', message: 'Starting cost & performance analysis...', color: 'text-cyan-400' }, 100);
                        await this.addVisual('title', '<h3 class="text-lg font-bold text-white mb-4">Cost Optimization Report</h3>', 100);
                        await this.addLog({ level: 'SCAN', message: 'Analyzing query history (last 30 days)...', color: 'text-gray-400' }, 800);
                        await this.addLog({ level: 'COST', message: 'High-Cost Query Detected!', color: 'text-red-500' }, 1200);
                        await this.addVisual('cost-query', '<div class="p-3 my-1 bg-red-900/30 border border-red-500 rounded"><div class="flex items-start gap-2"><i data-lucide="alert-triangle" class="text-red-400 mt-1"></i><div><h4 class="font-bold text-red-400">Costly Query: `q_xyz789`</h4><p class="text-sm"><strong>Cost:</strong> $127.50</p><p class="text-sm"><strong>Reason:</strong> Full table scan on `events_log` (3.2 TB processed)</p></div></div></div>', 1200);
                        await this.addLog({ level: 'AI-FIX', message: 'AI Recommendation: Add partitioning on `event_date`.', color: 'text-green-400' }, 1000);
                        await this.addVisual('ai-fix', '<div class="p-3 my-1 bg-green-900/30 border border-green-500 rounded"><div class="flex items-start gap-2"><i data-lucide="lightbulb" class="text-green-400 mt-1"></i><div><h4 class="font-bold text-green-400">Optimization Suggestion</h4><p class="text-sm">Partition table `events_log` by `event_date` to reduce scan size.</p></div></div></div>', 1000);
                        await this.addLog({ level: 'SCAN', message: 'Scanning for unused assets...', color: 'text-gray-400' }, 1000);
                        await this.addLog({ level: 'UNUSED', message: 'Table `stg_temp_users_2022` not accessed in 180 days.', color: 'text-yellow-400' }, 800);
                        await this.addVisual('unused-table', '<div class="p-3 my-1 bg-yellow-900/30 border border-yellow-500 rounded"><div class="flex items-start gap-2"><i data-lucide="trash-2" class="text-yellow-400 mt-1"></i><div><h4 class="font-bold text-yellow-400">Unused Table: `stg_temp_users_2022`</h4><p class="text-sm"><strong>Storage:</strong> 15.7 GB</p><p class="text-sm"><strong>Recommendation:</strong> Archive or Drop</p></div></div></div>', 800);
                        await this.addLog({ level: 'SUMMARY', message: 'Generating optimization savings summary...', color: 'text-green-400' }, 800);
                        await this.addVisual('summary', '<div class="p-4 my-2 bg-green-900/30 border-2 border-green-500 rounded text-center"><h4 class="font-bold text-green-300 uppercase tracking-wider">Total Estimated Annual Savings</h4><div id="savings-counter" class="text-4xl lg:text-5xl font-bold text-white my-2">$0</div><p class="text-sm text-green-400">from query optimization and storage reduction</p></div>', 800);
                        await this.animateCounter('savings-counter', 6036, 1500);
                        await this.addLog({ level: 'DONE', message: 'Analysis complete. Report generated.', color: 'text-green-400' }, 100);
                    } else if (scriptName === 'chat') {
                        await this.addLog({ level: 'INIT', message: 'Engineer Assist Chat activated.', color: 'text-cyan-400' }, 100);
                        await this.addVisual('chat-container', '<div class="space-y-4"></div>', 100);
                        await this.addLog({ level: 'USER', message: 'Why is the `rpt_revenue` query slow?', color: 'text-blue-400' }, 1000);
                        await this.updateVisual('chat-container', '<div class="space-y-4"><div class="flex justify-end"><div class="agent-chat-bubble-user p-3 rounded-lg max-w-xs">Why is the `rpt_revenue` query slow?</div></div></div>');
                        await this.addLog({ level: 'CONTEXT', message: 'Fetching metadata & query history...', color: 'text-gray-500' }, 1500);
                        await this.addLog({ level: 'CONTEXT', message: 'Found lineage: `fact_orders` -> `rpt_revenue`. `fact_orders` has 1.2B rows.', color: 'text-gray-500' }, 1000);
                        await this.addLog({ level: 'AGENT', message: 'Analyzing query plan... Found full table scan.', color: 'text-purple-400' }, 1500);
                        await this.updateVisual('chat-container', document.getElementById('vis-chat-container').innerHTML + '<div class="flex justify-start"><div class="agent-chat-bubble-agent p-3 rounded-lg max-w-md"><p>The query performs a full table scan on `fact_orders` because there is no index on the `order_date` filter. I suggest adding an index to improve performance.</p><div class="mt-2 p-2 rounded-md code-block text-xs"><pre><code>CREATE INDEX idx_orders_date \nON fact_orders (order_date);</code></pre></div></div></div>');
                        await this.addLog({ level: 'USER', message: 'Thanks! Can you show me the full lineage for fact_orders?', color: 'text-blue-400' }, 3000);
                        await this.updateVisual('chat-container', document.getElementById('vis-chat-container').innerHTML + '<div class="flex justify-end"><div class="agent-chat-bubble-user p-3 rounded-lg max-w-xs">Thanks! Can you show me the full lineage for fact_orders?</div></div>');
                        await this.addLog({ level: 'AGENT', message: 'Generating lineage graph...', color: 'text-purple-400' }, 1500);
                        await this.updateVisual('chat-container', document.getElementById('vis-chat-container').innerHTML + '<div class="flex justify-start"><div class="agent-chat-bubble-agent p-3 rounded-lg max-w-md"><p>Certainly. Here is the data lineage for `fact_orders`:</p><div class="mt-2 p-2 rounded bg-slate-900/50"><svg viewBox="0 0 400 100"><defs><marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#67e8f9"></path></marker></defs><path d="M 90 50 L 150 50" stroke="#67e8f9" stroke-width="2" marker-end="url(#arrow)" class="lineage-path" style="animation-delay: 0s;"></path><path d="M 250 50 L 310 50" stroke="#67e8f9" stroke-width="2" marker-end="url(#arrow)" class="lineage-path" style="animation-delay: 0.5s;"></path><g><rect x="10" y="35" width="80" height="30" rx="5" fill="#1e293b" stroke="#38bdf8"></rect><text x="50" y="55" font-size="12" fill="white" text-anchor="middle">API Source</text></g><g><rect x="150" y="35" width="100" height="30" rx="5" fill="#4c1d95" stroke="#a855f7"></rect><text x="200" y="55" font-size="12" fill="white" text-anchor="middle">fact_orders</text></g><g><rect x="310" y="35" width="80" height="30" rx="5" fill="#1e293b" stroke="#38bdf8"></rect><text x="350" y="55" font-size="12" fill="white" text-anchor="middle">BI Report</text></g></svg></div></div></div>');
                    }
                } catch(e) {
                    console.error("Data Agent demo failed:", e);
                    this.addLog({level: "ERROR", message: "Demo script failed. Please try again.", color: "text-red-500"}, 100);
                } finally {
                    this.scriptRunning = false;
                }
            }
        }));
    });
    
    const App = {
        init() {
            this.setupMobileMenu(); this.setupHeaderScroll(); this.setupIntersectionObserver(); this.initThreeJSBackground(); this.updateDynamicContent();
        },
        updateDynamicContent() { 
            if (typeof lucide !== 'undefined') {
                lucide.createIcons(); 
            }
            document.querySelectorAll('.year').forEach(el => el.textContent = new Date().getFullYear()); 
        },
        setupMobileMenu() { const btn = document.getElementById('mobile-menu-button'); const menu = document.getElementById('mobile-menu'); btn.addEventListener('click', () => menu.classList.toggle('hidden')); menu.querySelectorAll('a').forEach(link => link.addEventListener('click', () => menu.classList.add('hidden'))); },
        setupHeaderScroll() { const header = document.getElementById('header'); window.addEventListener('scroll', () => header.classList.toggle('header-scrolled', window.scrollY > 50), { passive: true }); },
        setupIntersectionObserver() {
            const observer = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('is-visible'); }); }, { threshold: 0.1 });
            document.querySelectorAll('.fade-in-section').forEach(el => observer.observe(el));
        },
        initThreeJSBackground() {
            try {
                const scene = new THREE.Scene(); const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000); const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('bg-canvas'), alpha: true });
                renderer.setPixelRatio(window.devicePixelRatio); renderer.setSize(window.innerWidth, window.innerHeight); camera.position.setZ(30);
                const starGeometry = new THREE.BufferGeometry(); const starCount = 8000; const positions = new Float32Array(starCount * 3);
                for (let i = 0; i < starCount * 3; i++) { positions[i] = (Math.random() - 0.5) * 200; }
                starGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3)); const starMaterial = new THREE.PointsMaterial({ color: 0xaaaaaa, size: 0.15, transparent: true, blending: THREE.AdditiveBlending }); const stars = new THREE.Points(starGeometry, starMaterial); scene.add(stars);
                let mouseX = 0, mouseY = 0;
                document.addEventListener('mousemove', e => { mouseX = (e.clientX / window.innerWidth) * 2 - 1; mouseY = -(e.clientY / window.innerHeight) * 2 + 1; }, { passive: true });
                window.addEventListener('resize', () => { camera.aspect = window.innerWidth / window.innerHeight; camera.updateProjectionMatrix(); renderer.setSize(window.innerWidth, window.innerHeight); });
                function animate() { requestAnimationFrame(animate); stars.rotation.y += 0.0001; stars.rotation.x += 0.0001; camera.position.x += (mouseX * 5 - camera.position.x) * 0.02; camera.position.y += (mouseY * 5 - camera.position.y) * 0.02; camera.lookAt(scene.position); renderer.render(scene, camera); }
                animate();
            } catch (e) { console.error("Three.js failed to initialize:", e); document.body.style.backgroundColor = '#0a0a1a'; }
        }
    };

    document.addEventListener('DOMContentLoaded', () => App.init());
    </script>
</body>
</html>
