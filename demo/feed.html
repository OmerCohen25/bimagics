<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>BI Magics â€¢ Magic Feed</title>

<!-- 3rd-party libs -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css"/>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
<script src="https://cdn.jsdelivr.net/npm/tsparticles@2.11.1/tsparticles.bundle.min.js"></script>

<!-- ===== Styles ===== -->
<style>
/* ---- Dark theme ---- */
:root{
  --card-bg:#1e1e28; --card-border:#2f2f42; --accent:#6eee9e;
  --text:#e9e9f1; --kpi:#ffffff; --shadow:0 8px 20px rgba(0,0,0,.45); --radius:14px;
  font-family:"Inter","Segoe UI",Arial,sans-serif;
}
body{margin:0;background:radial-gradient(ellipse at top,#13131d 0%,#0e0e14 55%);color:var(--text);overflow-x:hidden}

/* Particles */
#tsparticles{position:fixed;inset:0;z-index:-2}

/* ----- Header ----- */
header{
  position:sticky;top:0;z-index:5;background:#0d0d14cc;
  backdrop-filter:blur(6px);display:flex;justify-content:center;align-items:center;
  gap:12px;padding:14px 0;border-bottom:1px solid #23232f;
}
header h1{font-size:22px;margin:0;font-weight:700;letter-spacing:.5px}
header span{font-size:15px;font-weight:400;opacity:.75}

/* ----- Feed container ----- */
.feed{width:100%;max-width:900px;margin:0 auto;padding:110px 16px 160px;display:flex;flex-direction:column;gap:48px}

/* ----- Card ----- */
.bi-card{
  position:relative;overflow:hidden;background:var(--card-bg);border:1px solid var(--card-border);
  border-radius:var(--radius);box-shadow:var(--shadow);padding:24px 28px 70px 28px; /* bottom room for toolbar */
  backdrop-filter:blur(4px);
}
.bi-card::before{
  content:"";position:absolute;inset:0;border-radius:inherit;pointer-events:none;
  background:linear-gradient(135deg,transparent 0%,var(--accent)22%,transparent 52%,transparent 100%);
  background-size:400% 400%;opacity:.12;animation:hologlow 8s linear infinite
}
@keyframes hologlow{0%{background-position:0 0}100%{background-position:200% 200%}}

/* KPI */
.kpi-value{font-size:clamp(36px,7vw,64px);font-weight:700;color:var(--kpi);margin:0}
.kpi-label{font-size:18px;opacity:.7;margin-top:4px}

/* Table */
.table-wrapper{overflow-x:auto;margin-top:12px}
table{width:100%;border-collapse:collapse;font-size:15px}
th,td{padding:8px 10px;text-align:left;border-bottom:1px solid #2d2d38}
th{color:var(--accent);font-weight:600}

/* SQL */
pre.sql{background:#0d0d14;color:#9cf3ce;border:1px solid #28323b;padding:16px;border-radius:10px;overflow:auto;font-size:14px}

/* ---- Social toolbar ---- */
.card-actions{
  position:absolute;left:0;right:0;bottom:0;display:flex;justify-content:space-between;align-items:center;
  padding:10px 18px;border-top:1px solid #292935;font-size:14px;background:#15151dcc
}
.icon-btn{background:transparent;border:none;color:inherit;cursor:pointer;display:flex;align-items:center;gap:6px;transition:color .2s;font-size:15px}
.icon-btn:hover{color:var(--accent)}
.icon-btn.like.liked i{color:#ff6b81}
.views{display:flex;align-items:center;gap:6px;opacity:.75;font-size:14px}

/* Fade-in fallback */
.aos-init:not(.aos-animate){opacity:0}
</style>
</head>
<body>

<canvas id="tsparticles"></canvas>

<!-- ========== HEADER ========== -->
<header data-aos="fade-down">
  <h1>BI&nbsp;Magics</h1>
  <span>Magic Feed</span>
</header>

<!-- ========== FEED ========== -->
<main class="feed">

  <!-- 1 KPI -->
  <section class="bi-card" data-aos="fade-up">
    <p class="kpi-value">$ 12,473,920</p><p class="kpi-label">Total Revenue (Last 12 M)</p>
  </section>

  <!-- 2 Line -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="100">
    <h3>Revenue Trend</h3><canvas id="revenueLine"></canvas>
  </section>

  <!-- 3 Pie -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="200">
    <h3>Sales by Region</h3><canvas id="regionPie"></canvas>
  </section>

  <!-- 4 Bar -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="300">
    <h3>Top Products</h3><canvas id="productBar"></canvas>
  </section>

  <!-- 5 Table -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="400">
    <h3>Top Customers</h3>
    <div class="table-wrapper"><table><thead><tr><th>Customer</th><th>Country</th><th>Spend ($)</th></tr></thead><tbody>
      <tr><td>Acme Corp</td><td>USA</td><td>1,200,000</td></tr><tr><td>Globex</td><td>Canada</td><td>985,500</td></tr>
      <tr><td>Initech</td><td>UK</td><td>873,000</td></tr><tr><td>Umbrella</td><td>Germany</td><td>712,400</td></tr>
      <tr><td>Stark Industries</td><td>USA</td><td>598,900</td></tr><tr><td>Wayne Enterprises</td><td>Israel</td><td>547,100</td></tr>
    </tbody></table></div>
  </section>

  <!-- 6 KPI -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="500">
    <p class="kpi-value">157,332</p><p class="kpi-label">Monthly Active Users</p>
  </section>

  <!-- 7 SQL -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="600">
    <h3>Query Behind the Numbers</h3>
<pre class="sql">SELECT DATE_TRUNC(order_date, MONTH) AS month,
       SUM(total_amount)             AS revenue
FROM   bigquery_project.orders
WHERE  order_date &gt;= DATE_SUB(CURRENT_DATE(), INTERVAL 12 MONTH)
GROUP  BY month
ORDER  BY month;</pre>
  </section>

  <!-- 8 Doughnut -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="700">
    <h3>Device Distribution</h3><canvas id="deviceDoughnut"></canvas>
  </section>

  <!-- 9 Horizontal Bar -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="800">
    <h3>Traffic Sources</h3><canvas id="trafficBar"></canvas>
  </section>

  <!-- 10 KPI -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="900">
    <p class="kpi-value">3.8 %</p><p class="kpi-label">Monthly Churn</p>
  </section>

  <!-- 11 Table -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="1000">
    <h3>Data Quality Alerts</h3>
    <div class="table-wrapper"><table><thead><tr><th>Timestamp</th><th>Source</th><th>Anomaly</th></tr></thead><tbody>
      <tr><td>2025-05-03 04:12</td><td>bq.orders</td><td>Spike in refunds</td></tr>
      <tr><td>2025-05-02 14:55</td><td>sf.opportunities</td><td>Missing owner_id</td></tr>
      <tr><td>2025-05-01 21:30</td><td>sheet.marketing</td><td>Negative amount</td></tr>
    </tbody></table></div>
  </section>

  <!-- 12 Radar -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="1100">
    <h3>KPIs vs Target</h3><canvas id="kpiRadar"></canvas>
  </section>

  <!-- 13 KPI -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="1200">
    <p class="kpi-value">72</p><p class="kpi-label">Net Promoter Score</p>
  </section>

  <!-- 14 Forecast Line -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="1300">
    <h3>Revenue Forecast</h3><canvas id="forecastLine"></canvas>
  </section>

  <!-- 15 Marketing Pie -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="1400">
    <h3>Marketing Spend</h3><canvas id="marketingPie"></canvas>
  </section>

  <!-- ====== EXTRA MAGIC CARDS ====== -->

  <!-- 16 KPI -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="1500">
    <p class="kpi-value">$ 1,628</p><p class="kpi-label">Customer LTV</p>
  </section>

  <!-- 17 Line -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="1600">
    <h3>Daily Sign-ups</h3><canvas id="signupsLine"></canvas>
  </section>

  <!-- 18 Bar -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="1700">
    <h3>Expenses vs Budget</h3><canvas id="expenseBar"></canvas>
  </section>

  <!-- 19 Pie -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="1800">
    <h3>Ticket Categories</h3><canvas id="ticketsPie"></canvas>
  </section>

  <!-- 20 Radar -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="1900">
    <h3>Team Performance</h3><canvas id="teamRadar"></canvas>
  </section>

  <!-- 21 Table -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="2000">
    <h3>Upcoming Events</h3>
    <div class="table-wrapper"><table><thead><tr><th>Date</th><th>Event</th><th>Owner</th></tr></thead><tbody>
      <tr><td>2025-05-07</td><td>Product Launch V2</td><td>Marketing</td></tr>
      <tr><td>2025-05-15</td><td>Quarterly All-Hands</td><td>HR</td></tr>
      <tr><td>2025-05-22</td><td>Data Migration</td><td>Engineering</td></tr>
    </tbody></table></div>
  </section>

  <!-- 22 Doughnut -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="2100">
    <h3>Subscription Mix</h3><canvas id="planDoughnut"></canvas>
  </section>

  <!-- 23 KPI -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="2200">
    <p class="kpi-value">1.32 s</p><p class="kpi-label">Page Load Avg</p>
  </section>

  <!-- 24 Bar -->
  <section class="bi-card" data-aos="fade-up" data-aos-delay="2300">
    <h3>Bug Severity</h3><canvas id="bugsBar"></canvas>
  </section>

</main>

<!-- =========== SCRIPTS =========== -->
<script>
/* ---------- Utils ---------- */
const rnd=(min,max)=>Math.floor(Math.random()*(max-min+1))+min;
const ctx=id=>document.getElementById(id).getContext("2d");
const months=["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","Jan","Feb","Mar","Apr"];

/* ---------- Particles ---------- */
tsParticles.load("tsparticles",{
  particles:{number:{value:80,density:{enable:true,area:800}},
    color:{value:"#6eee9e"},links:{enable:true,color:"#6eee9e",opacity:.14},
    move:{enable:true,speed:1.1},opacity:{value:.25}},fullScreen:{enable:false}
});

/* ---------- AOS ---------- */
AOS.init({once:true,duration:700,offset:120});

/* ---------- Charts ---------- */
/* Original charts */
new Chart(ctx("revenueLine"),{type:"line",data:{labels:months,datasets:[{data:months.map(()=>rnd(800,1700)),tension:.35,fill:true}]},
  options:{plugins:{legend:{display:false}},scales:{y:{grid:{color:"#2c2c38"}}}}});

new Chart(ctx("regionPie"),{type:"pie",data:{labels:["N-America","EMEA","APAC","LATAM"],datasets:[{data:[38,26,22,14]}]},
  options:{plugins:{legend:{position:"bottom"}}}});

new Chart(ctx("productBar"),{type:"bar",data:{labels:["Gizmo X","Widget Pro","Bolt Mini","Nano S","Giga Pack"],
  datasets:[{data:[rnd(600,1200),rnd(600,1200),rnd(600,1200),rnd(600,1200),rnd(600,1200)]}]},
  options:{plugins:{legend:{display:false}},indexAxis:"y"}});

new Chart(ctx("deviceDoughnut"),{type:"doughnut",data:{labels:["Mobile","Desktop","Tablet"],datasets:[{data:[62,29,9]}]},
  options:{plugins:{legend:{position:"bottom"}}}});

new Chart(ctx("trafficBar"),{type:"bar",data:{labels:["Organic","Paid","Referral","Social","Email"],
  datasets:[{data:[rnd(150,400),rnd(150,400),rnd(150,400),rnd(150,400),rnd(150,400)]}]},
  options:{plugins:{legend:{display:false}}}});

new Chart(ctx("kpiRadar"),{type:"radar",data:{labels:["Revenue","Users","Conversion","Retention","NPS"],
  datasets:[{label:"Actual",data:[88,75,64,71,72],fill:true},
            {label:"Target",data:[100,80,70,75,80],borderDash:[6,3]}]},
  options:{plugins:{legend:{position:"bottom"}}}});

new Chart(ctx("forecastLine"),{type:"line",data:{labels:["May","Jun","Jul","Aug","Sep","Oct"],
  datasets:[{data:[1.24,1.32,1.38,1.45,1.51,1.58].map(v=>v*1e6),borderDash:[4,4],tension:.3}]},
  options:{plugins:{legend:{display:false}}}});

new Chart(ctx("marketingPie"),{type:"pie",data:{labels:["Search","Social","Influencer","Email","Display"],
  datasets:[{data:[34,27,18,13,8]}]},options:{plugins:{legend:{position:"bottom"}}}});

/* Extra charts */
new Chart(ctx("signupsLine"),{type:"line",data:{labels:Array.from({length:30},(_,i)=>i+1),
  datasets:[{label:"Sign-ups",data:Array.from({length:30},()=>rnd(120,430)),fill:true,tension:.25}]},
  options:{plugins:{legend:{display:false}}}});

new Chart(ctx("expenseBar"),{type:"bar",data:{labels:["R&D","Marketing","Sales","Ops","HR"],
  datasets:[{label:"Budget",data:[200,180,150,120,80]},
            {label:"Actual",data:[210,195,137,128,95]}]},
  options:{plugins:{legend:{position:"bottom"}}}});

new Chart(ctx("ticketsPie"),{type:"pie",data:{labels:["Bug","Feature","Question","Incident"],
  datasets:[{data:[48,24,18,10]}]},options:{plugins:{legend:{position:"bottom"}}}});

new Chart(ctx("teamRadar"),{type:"radar",data:{labels:["Delivery","Quality","Velocity","Collab","Innovation"],
  datasets:[{label:"Team A",data:[80,85,72,88,70],fill:true},
            {label:"Team B",data:[68,78,75,70,66]}]},
  options:{plugins:{legend:{position:"bottom"}}}});

new Chart(ctx("planDoughnut"),{type:"doughnut",data:{labels:["Pro","Growth","Enterprise"],datasets:[{data:[56,31,13]}]},
  options:{plugins:{legend:{position:"bottom"}}}});

new Chart(ctx("bugsBar"),{type:"bar",data:{labels:["Critical","High","Medium","Low"],
  datasets:[{data:[12,28,46,38]}]},
  options:{plugins:{legend:{display:false}},indexAxis:"y"}});

/* ---------- Social toolbar logic ---------- */
document.querySelectorAll(".bi-card").forEach(card=>{
  // Skip if toolbar already exists
  if(card.querySelector(".card-actions")) return;
  const actions=document.createElement("div");
  actions.className="card-actions";
  actions.innerHTML=`
    <div style="display:flex;gap:18px">
      <button class="icon-btn like" title="Like"><i class="fa-regular fa-heart"></i><span class="like-count">${rnd(0,150)}</span></button>
      <button class="icon-btn share" title="Share"><i class="fa-solid fa-share-nodes"></i></button>
      <button class="icon-btn edit" title="Edit"><i class="fa-regular fa-pen-to-square"></i></button>
    </div>
    <span class="views"><i class="fa-regular fa-eye"></i><span class="view-count">${rnd(100,2000)}</span></span>`;
  card.appendChild(actions);
});

/* Like toggle */
document.addEventListener("click",e=>{
  if(e.target.closest(".icon-btn.like")){
    const btn=e.target.closest(".icon-btn.like");
    btn.classList.toggle("liked");
    const cnt=btn.querySelector(".like-count");
    let n=parseInt(cnt.textContent)||0;
    n+=btn.classList.contains("liked")?1:-1; cnt.textContent=n;
  }
});

/* Share (Web Share API fallback copy-link) */
document.addEventListener("click",e=>{
  if(e.target.closest(".icon-btn.share")){
    const url=location.href; /* could deep link to card */
    if(navigator.share){navigator.share({title:"Check this insight",url})}
    else{navigator.clipboard.writeText(url);alert("Link copied!");}
  }
});
</script>
</body>
</html>