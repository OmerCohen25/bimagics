<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SolarEdge AI Automation Demo</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    
    <!-- Babel for JSX compilation in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Custom scrollbar for chat and logs */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: rgba(156, 163, 175, 0.5);
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(156, 163, 175, 0.8);
        }
        body {
            background-color: #0f172a; /* slate-900 */
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- Icons Components (Replacing lucide-react for standalone HTML) ---
        const Cpu = ({ className, size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="16" height="16" x="4" y="4" rx="2"/><rect width="6" height="6" x="9" y="9" rx="1"/><path d="M15 2v2"/><path d="M15 20v2"/><path d="M2 15h2"/><path d="M2 9h2"/><path d="M20 15h2"/><path d="M20 9h2"/><path d="M9 2v2"/><path d="M9 20v2"/></svg>
        );
        const Key = ({ className, size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4"/><path d="m21 2-9.6 9.6"/><circle cx="7.5" cy="15.5" r="5.5"/></svg>
        );
        const AlertCircle = ({ className, size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></svg>
        );
        const Database = ({ className, size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5V19A9 3 0 0 0 21 19V5"/><path d="M3 12A9 3 0 0 0 21 12"/></svg>
        );
        const Server = ({ className, size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="20" height="8" x="2" y="2" rx="2" ry="2"/><rect width="20" height="8" x="2" y="14" rx="2" ry="2"/><line x1="6" x2="6.01" y1="6" y2="6"/><line x1="6" x2="6.01" y1="18" y2="18"/></svg>
        );
        const Terminal = ({ className, size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="4 17 10 11 4 5"/><line x1="12" x2="20" y1="19" y2="19"/></svg>
        );
        const CheckCheck = ({ className, size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 6 7 17l-5-5"/><path d="m22 10-7.5 7.5L13 16"/></svg>
        );
        const Play = ({ className, size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="6 3 20 12 6 21 6 3"/></svg>
        );

        const delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));

        function App() {
            const [messages, setMessages] = useState([]);
            const [logs, setLogs] = useState([]);
            const [apiKeys, setApiKeys] = useState([
                { siteId: '2617088', key: '***', status: 'חסר' },
                { siteId: '3398062', key: '***', status: 'חסר' }
            ]);
            const [tickets, setTickets] = useState([
                { siteId: '964227', inverter: '7E1A9C13-47', issue: 'בעיית בידוד (Isolation)', caseId: '---', status: 'ממתין לפתיחה' }
            ]);
            const [isTyping, setIsTyping] = useState(false);
            const [isRunning, setIsRunning] = useState(false);
            
            const chatEndRef = useRef(null);
            const logsEndRef = useRef(null);

            // Auto-scroll logic
            useEffect(() => {
                chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });
            }, [messages, isTyping]);

            useEffect(() => {
                logsEndRef.current?.scrollIntoView({ behavior: 'smooth' });
            }, [logs]);

            const generateId = () => {
                return Date.now().toString() + '-' + Math.random().toString(36).substring(2, 9);
            };

            const addMessage = (sender, text, isAutomated = false) => {
                const time = new Date().toLocaleTimeString('he-IL', { hour: '2-digit', minute: '2-digit' });
                setMessages(prev => [...prev, { id: generateId(), sender, text, time, isAutomated }]);
            };

            const addLog = (type, text) => {
                const time = new Date().toLocaleTimeString('he-IL', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
                setLogs(prev => [...prev, { id: generateId(), type, text, time }]);
            };

            const simulateTyping = async (duration = 1500) => {
                setIsTyping(true);
                await delay(duration);
                setIsTyping(false);
            };

            // Shared automated menu navigation
            const runMenuNavigation = async () => {
                addLog('system', 'מתחבר ל-WhatsApp Web Client...');
                await delay(1000);
                
                addLog('ai', 'יוזם שיחה מול נתב SolarEdge...');
                addMessage('ai', 'היי', true);
                await simulateTyping(1000);
                
                addMessage('support', 'תודה שפנית לתמיכה של SolarEdge\nיש לוודא כי פועלים על פי נהלי הבטיחות במדריך המוצר בעת הטיפול במוצרים שלנו.\n\nאנא השב עם מספר התשובה:\n1 - אני מתקין\n2 - אני בעל מערכת');
                addLog('ai', 'מזהה תפריט תפקיד. בוחר 1 (מתקין).');
                await delay(800);
                addMessage('ai', '1', true);
                await simulateTyping(1000);
                
                addMessage('support', 'האם את/ה נמצא/ת באתר?\n\n1 - כן\n2 - לא');
                addLog('ai', 'מזהה שאלת מיקום. בוחר 2 (לא באתר).');
                await delay(800);
                addMessage('ai', '2', true);
                await simulateTyping(1000);

                addMessage('support', 'נא לבחור את נושא הפנייה:\n\n1 - מעקב אחר קריאה/ סטטוס\n2 - ממיר\n3 - אופטימייזר\n4 - בטרייה\n5 - מוצרי בית חכם\n6 - פנייה כללית');
                addLog('ai', 'מזהה תפריט נושא. מנתב לנציג כללי (6).');
                await delay(800);
                addMessage('ai', '6', true);
                await simulateTyping(1000);

                addMessage('support', 'אנא הקש/י את כתובת הדואר האלקטרוני שלך');
                await delay(800);
                addMessage('ai', 'omer.cohen@bimagics.com', true);
                await simulateTyping(1000);

                addMessage('support', 'אחד מנציגנו יתפנה בהקדם, תודה על הסבלנות');
                addLog('system', 'ממתין למענה אנושי (Handover)...');
                await delay(2000);
            };

            // Scenario 1: API Key Extraction
            const runApiScenario = async () => {
                if (isRunning) return;
                setIsRunning(true);
                setMessages([]);
                setLogs([]);
                
                addLog('info', '--- תחילת תרחיש: חילוץ מפתחות API ---');
                await runMenuNavigation();

                addMessage('support', 'Savitha has accepted the chat!');
                addLog('system', 'זוהה חיבור נציג אנושי (Savitha). מעביר שליטה למנוע LLM.');
                await delay(1500);

                addMessage('support', 'שלום, תודה שפנית לתמיכת סולאראדג\'. כיצד אוכל לסייע לך?');
                addLog('ai', 'מרכיב בקשה: מבקש מפתח API עבור אתר 3398062 בהתאם למסד הנתונים.');
                await delay(1000);
                
                addMessage('ai', 'שלום סאביטה, אני זקוק למפתח API עבור Site ID: 3398062 בבקשה.');
                await simulateTyping(2000);

                addMessage('support', 'בסדר גמור, תן לי רגע בבקשה.');
                await simulateTyping(2500);

                const extractedKey = '4BCTDK5C0Y8WJ17AV16WQDQO4CXSUW63';
                addMessage('support', `מפתח ה-API עבור האתר 3398062:\n${extractedKey}`);
                
                addLog('ai', 'מנתח טקסט מהנציג... זוהתה מחרוזת מפתח API.');
                await delay(1000);
                addLog('db', `מעדכן מסד נתונים: אתר 3398062 תקין. מפתח נשמר.`);
                
                setApiKeys(prev => prev.map(k => k.siteId === '3398062' ? { ...k, key: extractedKey, status: 'פעיל' } : k));

                await delay(1000);
                addMessage('ai', 'תודה רבה, זה הכל לבינתיים. יום טוב!');
                await simulateTyping(1500);
                
                addMessage('support', 'השיחה נסגרה מרחוק על ידי Savitha.');
                addLog('info', '--- תרחיש הושלם בהצלחה ---');
                setIsRunning(false);
            };

            // Scenario 2: Troubleshooting and Ticket Opening (Handling Pushback)
            const runTicketScenario = async () => {
                if (isRunning) return;
                setIsRunning(true);
                setMessages([]);
                setLogs([]);
                
                addLog('info', '--- תחילת תרחיש: פתיחת תקלה חכמה ---');
                await runMenuNavigation();

                addMessage('support', 'Kalakesh H has accepted the chat!');
                addLog('system', 'זוהה חיבור נציג אנושי. טוען הקשר (Context) מהמערכת: אתר 964227, ממיר 7E1A9C13-47.');
                await delay(1500);

                addMessage('support', 'ברוכים הבאים לתמיכה. כיצד אוכל לעזור לך היום?');
                
                addLog('ai', 'מנסח תיאור תקלה טכנית...');
                await delay(1000);
                addMessage('ai', 'שלום, נראה שיש לנו תקלה בממיר 7E1A9C13-47 באתר 964227. הממיר לא מייצר חשמל ודולקת נורה אדומה. אשמח לבדיקה.');
                await simulateTyping(3000);

                addMessage('support', 'אבדוק את הבעיה. אנא המתן/י.');
                await simulateTyping(4000);

                addMessage('support', 'לקוח יקר, בבדיקה שערכתי מרחוק אני רואה שקיימת בעיית בידוד באתר. אנא צור/י קשר עם המתקין שלך כדי שיבדוק זאת באתר ההתקנה.');
                
                addLog('ai', 'אזהרה: זוהתה "התנגדות/ניפנוף" מצד הנציג (Pushback).');
                await delay(1000);
                addLog('ai', 'שואב נתונים היסטוריים ממערכת הניטור המקומית (CRM)...');
                await delay(800);
                addLog('ai', 'נתונים מראים: בוצעה בדיקת שטח שלשום. מפעיל פקודת Overide (עקיפה) כדי לאלץ פתיחת קריאה.');
                
                await delay(1000);
                addMessage('ai', 'תודה על הבדיקה, אבל צוות המתקינים שלנו כבר היה בשטח אתמול, ביצע בדיקת מגר מקיפה ובדק את כל חיבורי ה-DC. הבידוד בפאנלים תקין לחלוטין. התקלה היא ככל הנראה פנימית בממיר. אני מבקש לפתוח קריאת שירות (RMA Case) להמשך טיפול ולתת לי את מספר הקריאה בבקשה.');
                
                await simulateTyping(4000);
                
                addMessage('support', 'אני מבין. אם בוצעה בדיקת שטח מקיפה, אפתח קריאה לבדיקת מהנדס דרג ב\'. תן לי דקה.');
                await simulateTyping(3000);

                const newCaseId = 'CAS-884210-W9X2';
                addMessage('support', `פתחתי קריאת שירות. מספר הקריאה שלך הוא ${newCaseId}. נשלח לך עדכון במייל.`);
                
                addLog('ai', 'מנתח טקסט... חולץ מספר קריאת שירות.');
                addLog('db', `מעדכן מערכת כרטוס (Ticketing): סטטוס עבר ל"פתוח". מספר קריאה נשמר.`);
                
                setTickets(prev => prev.map(t => t.siteId === '964227' ? { ...t, caseId: newCaseId, status: 'פתוח בטיפול' } : t));

                await delay(1000);
                addMessage('ai', 'תודה רבה קלקש, יום מצוין!');
                await simulateTyping(1500);

                addMessage('support', 'השיחה נסגרה מרחוק על ידי Kalakesh H.');
                addLog('info', '--- תרחיש הושלם בהצלחה ---');
                setIsRunning(false);
            };

            return (
                <div className="min-h-screen text-slate-200 p-4 md:p-8 font-sans">
                    {/* Header */}
                    <header className="mb-8 flex flex-col sm:flex-row items-start sm:items-center justify-between bg-slate-800 p-4 rounded-xl shadow-lg border border-slate-700 gap-4">
                        <div className="flex items-center gap-3">
                            <Cpu className="text-blue-400 w-8 h-8" />
                            <div>
                                <h1 className="text-2xl font-bold text-white">מערכת אוטומציה AI - SolarEdge</h1>
                                <p className="text-slate-400 text-sm">הדגמת ניהול שיחות מול נציגים אנושיים</p>
                            </div>
                        </div>
                        <div className="flex gap-4 w-full sm:w-auto">
                            <button 
                                onClick={runApiScenario}
                                disabled={isRunning}
                                className="flex-1 sm:flex-none flex items-center justify-center gap-2 bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-all"
                            >
                                <Key className="w-5 h-5" />
                                <span>הרץ: חילוץ מפתחות</span>
                            </button>
                            <button 
                                onClick={runTicketScenario}
                                disabled={isRunning}
                                className="flex-1 sm:flex-none flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-all"
                            >
                                <AlertCircle className="w-5 h-5" />
                                <span>הרץ: פתיחת תקלה</span>
                            </button>
                        </div>
                    </header>

                    <div className="grid grid-cols-1 lg:grid-cols-12 gap-6">
                        
                        {/* Left Column: Phone Mockup */}
                        <div className="lg:col-span-4 flex justify-center">
                            <div className="w-full max-w-sm bg-slate-800 rounded-[3rem] p-3 border-8 border-slate-950 shadow-2xl relative h-[700px] flex flex-col">
                                {/* Notch */}
                                <div className="absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-slate-950 rounded-b-3xl z-20"></div>
                                
                                {/* WhatsApp Header */}
                                <div className="bg-[#075e54] text-white p-4 pt-8 rounded-t-2xl flex items-center gap-3 shadow-md z-10">
                                    <div className="w-10 h-10 bg-slate-300 rounded-full flex items-center justify-center overflow-hidden">
                                        <img src="https://api.dicebear.com/7.x/initials/svg?seed=SE&backgroundColor=e2e8f0" alt="Avatar" />
                                    </div>
                                    <div>
                                        <h3 className="font-bold text-base leading-tight">תמיכה סולאר אדג</h3>
                                        <p className="text-xs text-emerald-100/80">חשבון עסקי רשמי</p>
                                    </div>
                                </div>

                                {/* Chat Background */}
                                <div className="flex-1 bg-[#efeae2] overflow-y-auto p-4 flex flex-col gap-3 relative" 
                                     style={{backgroundImage: `url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 20.5V18H0v-2h20v-2H0v-2h20v-2H0V8h20V6H0V4h20V2H0V0h22v20h2V0h2v20h2V0h2v20h2V0h2v20h2V0h2v20h2v2H20v-1.5zM0 20h2v20H0V20zm4 0h2v20H4V20zm4 0h2v20H8V20zm4 0h2v20h-2V20zm4 0h2v20h-2V20zm4 4h20v2H20v-2zm0 4h20v2H20v-2zm0 4h20v2H20v-2zm0 4h20v2H20v-2z' fill='%23000000' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E")`}}>
                                    
                                    {/* Date Badge */}
                                    {messages.length > 0 && (
                                        <div className="flex justify-center mb-2">
                                            <span className="bg-white/90 text-slate-500 text-xs px-3 py-1 rounded-lg shadow-sm">היום</span>
                                        </div>
                                    )}

                                    {/* Messages */}
                                    {messages.map((msg) => (
                                        <div key={msg.id} className={`flex flex-col max-w-[85%] ${msg.sender === 'ai' ? 'self-end' : 'self-start'}`}>
                                            {/* Sender Label (Bot vs Auto) */}
                                            {msg.sender === 'ai' && (
                                                <span className="text-[10px] text-slate-500 mb-1 ml-1 self-end flex items-center gap-1">
                                                    {msg.isAutomated ? 'סקריפט ניתוב' : 'מנוע LLM'} <Cpu size={10} />
                                                </span>
                                            )}
                                            
                                            <div className={`p-2 px-3 rounded-xl shadow-sm relative text-[15px] leading-relaxed break-words ${
                                                msg.sender === 'ai' ? 'bg-[#dcf8c6] rounded-tr-none text-slate-800' : 'bg-white rounded-tl-none text-slate-800'
                                            }`}>
                                                {msg.text.split('\n').map((line, i) => (
                                                    <React.Fragment key={i}>
                                                        {line}
                                                        <br />
                                                    </React.Fragment>
                                                ))}
                                                <div className="flex items-center justify-end gap-1 mt-1">
                                                    <span className="text-[10px] text-slate-400">{msg.time}</span>
                                                    {msg.sender === 'ai' && <CheckCheck size={14} className="text-blue-500" />}
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                    
                                    {isTyping && (
                                        <div className="self-start bg-white p-3 rounded-xl rounded-tl-none shadow-sm flex items-center gap-1">
                                            <span className="w-2 h-2 bg-slate-400 rounded-full animate-bounce"></span>
                                            <span className="w-2 h-2 bg-slate-400 rounded-full animate-bounce" style={{animationDelay: '0.2s'}}></span>
                                            <span className="w-2 h-2 bg-slate-400 rounded-full animate-bounce" style={{animationDelay: '0.4s'}}></span>
                                        </div>
                                    )}
                                    
                                    <div ref={chatEndRef} />
                                </div>

                                {/* WhatsApp Input */}
                                <div className="bg-[#f0f2f5] p-2 rounded-b-2xl flex items-center gap-2 z-10">
                                    <div className="bg-white flex-1 rounded-full px-4 py-2 text-slate-400 text-sm">
                                        הקש הודעה...
                                    </div>
                                    <div className="w-10 h-10 bg-[#00a884] rounded-full flex items-center justify-center text-white shrink-0">
                                        <Play className="w-4 h-4 mr-1" />
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Right Column: Dashboard & Logs */}
                        <div className="lg:col-span-8 flex flex-col gap-6">
                            
                            {/* Data Tables */}
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                {/* API Keys DB */}
                                <div className="bg-slate-800 rounded-xl p-5 border border-slate-700 shadow-md">
                                    <h3 className="flex items-center gap-2 text-lg font-bold text-white mb-4 pb-2 border-b border-slate-700">
                                        <Database className="text-emerald-400 w-5 h-5" />
                                        מסד נתונים: מפתחות API
                                    </h3>
                                    <div className="overflow-x-auto">
                                        <table className="w-full text-sm text-right">
                                            <thead className="text-slate-400 bg-slate-900/50">
                                                <tr>
                                                    <th className="px-4 py-2 rounded-tr-lg">Site ID</th>
                                                    <th className="px-4 py-2">API Key</th>
                                                    <th className="px-4 py-2 rounded-tl-lg">סטטוס</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {apiKeys.map((item, idx) => (
                                                    <tr key={idx} className="border-b border-slate-700/50">
                                                        <td className="px-4 py-3 font-mono text-blue-300">{item.siteId}</td>
                                                        <td className="px-4 py-3 font-mono text-xs">{item.key}</td>
                                                        <td className="px-4 py-3">
                                                            <span className={`px-2 py-1 rounded text-xs font-medium ${item.status === 'פעיל' ? 'bg-emerald-500/20 text-emerald-400' : 'bg-red-500/20 text-red-400'}`}>
                                                                {item.status}
                                                            </span>
                                                        </td>
                                                    </tr>
                                                ))}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                {/* Tickets CRM */}
                                <div className="bg-slate-800 rounded-xl p-5 border border-slate-700 shadow-md">
                                    <h3 className="flex items-center gap-2 text-lg font-bold text-white mb-4 pb-2 border-b border-slate-700">
                                        <Server className="text-blue-400 w-5 h-5" />
                                        מערכת כרטוס (CRM)
                                    </h3>
                                    <div className="overflow-x-auto">
                                        <table className="w-full text-sm text-right">
                                            <thead className="text-slate-400 bg-slate-900/50">
                                                <tr>
                                                    <th className="px-4 py-2 rounded-tr-lg">אתר/ממיר</th>
                                                    <th className="px-4 py-2">מספר קריאה</th>
                                                    <th className="px-4 py-2 rounded-tl-lg">סטטוס</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {tickets.map((item, idx) => (
                                                    <tr key={idx} className="border-b border-slate-700/50">
                                                        <td className="px-4 py-3">
                                                            <div className="font-mono text-blue-300">{item.siteId}</div>
                                                            <div className="text-xs text-slate-400">{item.inverter}</div>
                                                        </td>
                                                        <td className="px-4 py-3 font-mono text-amber-300">{item.caseId}</td>
                                                        <td className="px-4 py-3">
                                                            <span className={`px-2 py-1 rounded text-xs font-medium ${item.status === 'פתוח בטיפול' ? 'bg-blue-500/20 text-blue-400' : 'bg-slate-500/20 text-slate-400'}`}>
                                                                {item.status}
                                                            </span>
                                                        </td>
                                                    </tr>
                                                ))}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            {/* AI Terminal / Logs */}
                            <div className="flex-1 bg-[#0d1117] rounded-xl border border-slate-700 shadow-inner flex flex-col h-[350px]">
                                <div className="bg-slate-800 px-4 py-2 rounded-t-xl flex items-center justify-between border-b border-slate-700">
                                    <div className="flex items-center gap-2">
                                        <Terminal className="text-slate-400 w-4 h-4" />
                                        <span className="text-sm font-mono text-slate-300">AI_Agent_Console.log</span>
                                    </div>
                                    <div className="flex gap-1.5">
                                        <div className="w-3 h-3 rounded-full bg-red-500/80"></div>
                                        <div className="w-3 h-3 rounded-full bg-yellow-500/80"></div>
                                        <div className="w-3 h-3 rounded-full bg-green-500/80"></div>
                                    </div>
                                </div>
                                
                                <div className="flex-1 p-4 font-mono text-sm overflow-y-auto" style={{ direction: 'ltr' }}>
                                    {logs.length === 0 && (
                                        <div className="text-slate-500 italic">Waiting for process to start...</div>
                                    )}
                                    {logs.map((log) => (
                                        <div key={log.id} className="mb-2 flex gap-3">
                                            <span className="text-slate-500 shrink-0">[{log.time}]</span>
                                            <div className="flex-1">
                                                {log.type === 'system' && <span className="text-blue-400 font-bold">[SYS] </span>}
                                                {log.type === 'ai' && <span className="text-purple-400 font-bold">[LLM_THINKING] </span>}
                                                {log.type === 'db' && <span className="text-emerald-400 font-bold">[DB_WRITE] </span>}
                                                {log.type === 'info' && <span className="text-yellow-400 font-bold">[*] </span>}
                                                <span className={
                                                    log.type === 'ai' ? 'text-purple-200' : 
                                                    log.type === 'db' ? 'text-emerald-200' : 
                                                    'text-slate-300'
                                                }>
                                                    {log.text}
                                                </span>
                                            </div>
                                        </div>
                                    ))}
                                    <div ref={logsEndRef} />
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
