<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AIDA - Your AI Data Architect</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;600;700&display=swap" rel="stylesheet" />

    <style>
        body {
            font-family: 'Assistant', sans-serif;
            -webkit-font-smoothing: antialiased;
            background-color: #0d1117;
            color: #c9d1d9;
            overflow-x: hidden;
        }

        /* --- Animations & Effects --- */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in-section {
            opacity: 0;
            animation: fadeIn 0.8s ease-out forwards;
        }
        
        @keyframes pulse-glow {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.7); }
            50% { transform: scale(1.03); box-shadow: 0 0 25px 10px rgba(37, 99, 235, 0); }
        }
        .cta-button {
            animation: pulse-glow 3s infinite ease-out;
        }

        @keyframes background-pan {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .animated-gradient-bg {
            background: linear-gradient(90deg, #0d1117, #161b22, #0d1117);
            background-size: 200% 200%;
            animation: background-pan 15s ease infinite;
        }

        /* --- Analysis Progress Bar --- */
        @keyframes progress-fill {
            from { width: 0%; } to { width: 100%; }
        }
        .progress-bar-inner {
            animation: progress-fill 2s ease-in-out forwards;
        }
        .analysis-step {
            opacity: 0;
            animation: fadeIn 0.5s ease-out forwards;
        }
        
        /* --- ERD Styling --- */
        .erd-node {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .erd-node:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.6);
            border-color: #22c55e;
            z-index: 10;
        }
        .erd-line {
            transition: all 0.3s ease;
        }
        .erd-node:hover ~ .erd-line,
        .erd-node.highlight ~ .erd-line {
            stroke-width: 3;
            stroke: #22c55e;
        }
        .erd-node.highlight {
             border-color: #22c55e;
             box-shadow: 0 0 20px rgba(34, 197, 94, 0.6);
        }

    </style>
</head>
<body class="bg-gray-900 text-gray-300">

    <header id="hero" class="relative min-h-screen flex items-center justify-center text-center overflow-hidden animated-gradient-bg">
        <div class="relative z-10 p-8 max-w-4xl mx-auto">
            <span class="inline-block px-4 py-1 mb-4 text-sm font-semibold tracking-wider text-cyan-300 bg-cyan-900/50 rounded-full">ארכיטקט נתונים מבוסס AI</span>
            <h1 class="text-5xl md:text-7xl font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-white to-blue-300 mb-6">הכירו את AIDA</h1>
            <p class="text-lg md:text-xl text-gray-400 max-w-2xl mx-auto mb-10">
                הסוכן החכם שממפה, מנתח ומבצע אופטימיזציה למחסן הנתונים שלכם באופן אוטומטי. הפכו כאוס לסדר, וספקו לצוותי הדאטה שלכם תובנות חסרות תקדים על המבנה והזרימה של הנתונים.
            </p>
            <button id="start-demo-btn" class="bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 px-8 rounded-lg text-lg transition-transform duration-300 hover:scale-105 cta-button">
                הדגם את היכולות
            </button>
        </div>
    </header>

    <main class="container mx-auto px-6 py-20">
        
        <section id="features" class="my-24">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold mb-4">כל מה שארכיטקט דאטה צריך - בכלי אחד</h2>
                <p class="text-lg text-gray-400 max-w-3xl mx-auto">AIDA סורקת את כל שכבות המידע, מקוד המקור ועד למודלים הסופיים, כדי לספק תמונה מלאה ואינטראקטיבית.</p>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="bg-gray-800/50 p-6 rounded-xl border border-gray-700 hover:border-blue-500 transition-colors duration-300">
                    <i data-feather="compass" class="w-10 h-10 text-blue-400 mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">גילוי ומיפוי אוטומטי</h3>
                    <p class="text-gray-400">חיבור Read-Only למחסן הנתונים וסריקה אוטומטית של סכמות, טבלאות, View-ים ופרוצדורות.</p>
                </div>
                <div class="bg-gray-800/50 p-6 rounded-xl border border-gray-700 hover:border-blue-500 transition-colors duration-300">
                    <i data-feather="git-merge" class="w-10 h-10 text-blue-400 mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">יצירת ERD אינטראקטיבי</h3>
                    <p class="text-gray-400">הצגה ויזואלית של קשרי הגומלין בין טבלאות, עם יכולת ניתוח והבנת תלויות מורכבות.</p>
                </div>
                <div class="bg-gray-800/50 p-6 rounded-xl border border-gray-700 hover:border-blue-500 transition-colors duration-300">
                    <i data-feather="code" class="w-10 h-10 text-blue-400 mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">ניתוח קוד ו-Data Lineage</h3>
                    <p class="text-gray-400">פענוח שאילתות SQL וסקריפטים של Python כדי להבין את זרימת הנתונים משכבת הגלם ועד לדשבורד.</p>
                </div>
                <div class="bg-gray-800/50 p-6 rounded-xl border border-gray-700 hover:border-blue-500 transition-colors duration-300">
                    <i data-feather="trending-up" class="w-10 h-10 text-blue-400 mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">המלצות לאופטימיזציה</h3>
                    <p class="text-gray-400">זיהוי צווארי בקבוק, הצעות לשיפור ביצועי שאילתות, והמלצות למבני מידול נתונים יעילים יותר.</p>
                </div>
            </div>
        </section>

        <section id="demo-section" class="my-24 bg-gray-900 rounded-2xl p-8 md:p-12 border border-gray-700 shadow-2xl">
            
            <div id="demo-step-1">
                <div class="text-center mb-8">
                    <h2 class="text-4xl font-bold mb-3">בואו נראה את AIDA בפעולה</h2>
                    <p class="text-lg text-gray-400">נתחיל בחיבור (מדומה) למחסן הנתונים של חברת "ACME Corp".</p>
                </div>
                <div class="max-w-xl mx-auto bg-gray-800/60 p-8 rounded-xl border border-gray-700">
                    <form id="connect-form" class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-400 mb-2" for="wh-type">סוג המערכת</label>
                            <input type="text" value="Snowflake" disabled class="w-full text-base rounded-lg bg-gray-700 border-gray-600 px-4 py-3 cursor-not-allowed">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-400 mb-2" for="host">כתובת השרת</label>
                            <input type="text" value="acme-corp.snowflakecomputing.com" disabled class="w-full text-base rounded-lg bg-gray-700 border-gray-600 px-4 py-3 cursor-not-allowed">
                        </div>
                        <button type="button" id="analyze-btn" class="w-full py-4 rounded-lg bg-blue-600 font-semibold text-white hover:bg-blue-500 transition-all duration-300 shadow-lg flex items-center justify-center gap-3">
                            <i data-feather="play-circle" class="w-6 h-6"></i>
                            <span>התחבר ונתח את המערכת</span>
                        </button>
                    </form>
                </div>
            </div>

            <div id="demo-step-2" class="hidden">
                 <div class="text-center mb-8">
                    <h2 class="text-4xl font-bold mb-3">AIDA מנתחת את המערכת...</h2>
                    <p class="text-lg text-gray-400">זהו תהליך מורכב שבו הסוכן לומד כל פינה במחסן הנתונים.</p>
                </div>
                <div class="max-w-2xl mx-auto space-y-4">
                    <div id="progress-container" class="w-full bg-gray-700 rounded-full h-4 overflow-hidden">
                        <div id="progress-bar" class="bg-gradient-to-r from-cyan-400 to-blue-500 h-4 rounded-full transition-all duration-1000 ease-out" style="width: 10%;"></div>
                    </div>
                    <div id="progress-status" class="text-center text-lg text-cyan-300 font-semibold h-8"></div>
                    <div id="analysis-details" class="mt-8 bg-gray-800/50 p-6 rounded-lg border border-gray-700 min-h-[150px]">
                        </div>
                </div>
            </div>

            <div id="demo-step-3" class="hidden">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold mb-3">ניתוח המערכת הושלם!</h2>
                    <p class="text-lg text-gray-400">זהו הדשבורד האינטראקטיבי ש-AIDA יצרה. כעת אפשר לחקור את המבנה, התלויות והביצועים.</p>
                </div>
                <div class="grid lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2 bg-gray-800/40 p-6 rounded-xl border border-gray-700">
                        <h3 class="text-2xl font-bold mb-4 flex items-center gap-2"><i data-feather="git-merge"></i>תרשים קשרי גומלין (ERD)</h3>
                        <div id="erd-container" class="relative w-full h-[500px] bg-dots rounded-lg">
                           </div>
                    </div>
                    <div class="space-y-8">
                        <div class="bg-gray-800/40 p-6 rounded-xl border border-gray-700">
                            <h3 class="text-xl font-bold mb-4">מדדי מפתח</h3>
                            <div class="flex justify-around text-center">
                                <div>
                                    <div class="text-4xl font-bold text-green-400">88%</div>
                                    <div class="text-sm text-gray-400">ציון בריאות</div>
                                </div>
                                 <div>
                                    <div class="text-4xl font-bold text-yellow-400">14</div>
                                    <div class="text-sm text-gray-400">הזדמנויות לשיפור</div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-gray-800/40 p-6 rounded-xl border border-gray-700">
                            <h3 class="text-xl font-bold mb-4">סייר טבלאות</h3>
                            <div id="table-explorer" class="space-y-2 max-h-60 overflow-y-auto pr-2">
                                </div>
                        </div>
                    </div>
                </div>
                <div class="mt-8 bg-gray-800/40 p-6 rounded-xl border border-gray-700">
                     <h3 class="text-2xl font-bold mb-4 flex items-center gap-2"><i data-feather="search"></i>ניתוח שאילתת SQL</h3>
                     <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold text-lg mb-2 text-red-400">שאילתה מקורית (לא יעילה)</h4>
                            <pre class="bg-gray-900 text-sm text-gray-300 p-4 rounded-lg overflow-x-auto"><code>SELECT c.customer_name, COUNT(o.order_id)
FROM customers c 
JOIN orders o ON c.customer_id = o.customer_id
WHERE c.signup_date > '2023-01-01'
GROUP BY c.customer_name
HAVING COUNT(o.order_id) > (SELECT AVG(order_count) FROM (SELECT COUNT(*) as order_count FROM orders GROUP BY customer_id) as sub)</code></pre>
                        </div>
                        <div>
                            <h4 class="font-semibold text-lg mb-2 text-green-400">הצעת אופטימיזציה של AIDA</h4>
                             <pre class="bg-gray-900 text-sm text-gray-300 p-4 rounded-lg overflow-x-auto"><code>WITH CustomerOrderCounts AS (
    SELECT customer_id, COUNT(*) as order_count
    FROM orders
    GROUP BY customer_id
),
AvgOrderCount AS (
    SELECT AVG(order_count) as avg_orders
    FROM CustomerOrderCounts
)
SELECT c.customer_name, coc.order_count
FROM customers c
JOIN CustomerOrderCounts coc ON c.customer_id = coc.customer_id
WHERE c.signup_date > '2023-01-01'
AND coc.order_count > (SELECT avg_orders FROM AvgOrderCount)</code></pre>
                        </div>
                     </div>
                </div>
                <div class="text-center mt-12">
                    <button id="restart-demo-btn" class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-6 rounded-lg transition-colors">
                        התחל הדגמה מחדש
                    </button>
                </div>
            </div>
        </section>

    </main>

    <footer class="text-center p-8 border-t border-gray-800">
        <p>&copy; 2025 AIDA Technologies. כל הזכויות שמורות.</p>
    </footer>

    <script>
        feather.replace();

        /* --- DOM Elements --- */
        const qs = (selector) => document.querySelector(selector);
        const qsa = (selector) => document.querySelectorAll(selector);

        const startDemoBtn = qs('#start-demo-btn');
        const demoSection = qs('#demo-section');
        
        const step1 = qs('#demo-step-1');
        const step2 = qs('#demo-step-2');
        const step3 = qs('#demo-step-3');

        const analyzeBtn = qs('#analyze-btn');
        const restartDemoBtn = qs('#restart-demo-btn');
        
        const progressBar = qs('#progress-bar');
        const progressStatus = qs('#progress-status');
        const analysisDetails = qs('#analysis-details');

        /* --- Demo Data --- */
        const ERD_DATA = {
            tables: [
                { id: 'dim_customers', name: 'dim_customers', x: 5, y: 35, layer: 'Mart' },
                { id: 'dim_products', name: 'dim_products', x: 5, y: 65, layer: 'Mart' },
                { id: 'fct_orders', name: 'fct_orders', x: 35, y: 50, layer: 'Mart' },
                { id: 'stg_orders', name: 'stg_orders', x: 65, y: 50, layer: 'Staging' },
                { id: 'raw_platform_orders', name: 'raw_platform_orders', x: 90, y: 35, layer: 'Raw' },
                { id: 'raw_erp_users', name: 'raw_erp_users', x: 90, y: 65, layer: 'Raw' },
            ],
            relations: [
                { from: 'dim_customers', to: 'fct_orders' },
                { from: 'dim_products', to: 'fct_orders' },
                { from: 'stg_orders', to: 'fct_orders' },
                { from: 'raw_platform_orders', to: 'stg_orders' },
                { from: 'raw_erp_users', to: 'stg_orders' },
            ]
        };
        
        const TABLE_EXPLORER_DATA = [
            { name: 'dim_customers', layer: 'Mart' },
            { name: 'dim_products', layer: 'Mart' },
            { name: 'dim_dates', layer: 'Mart' },
            { name: 'fct_orders', layer: 'Mart' },
            { name: 'fct_sessions', layer: 'Mart' },
            { name: 'stg_orders', layer: 'Staging' },
            { name: 'stg_users', layer: 'Staging' },
            { name: 'stg_inventory', layer: 'Staging' },
            { name: 'raw_platform_orders', layer: 'Raw' },
            { name: 'raw_erp_users', layer: 'Raw' },
            { name: 'raw_ga_hits', layer: 'Raw' },
        ];

        /* --- Demo Logic --- */
        startDemoBtn.addEventListener('click', () => {
            demoSection.scrollIntoView({ behavior: 'smooth' });
        });

        analyzeBtn.addEventListener('click', () => {
            step1.classList.add('hidden');
            step2.classList.remove('hidden');
            runAnalysisAnimation();
        });

        restartDemoBtn.addEventListener('click', () => {
            step3.classList.add('hidden');
            step1.classList.remove('hidden');
        });

        function runAnalysisAnimation() {
            const steps = [
                { progress: 10, status: "מתחברת למחסן הנתונים...", detail: "מאמתת הרשאות Read-Only..."},
                { progress: 25, status: "סורקת סכמות וטבלאות...", detail: "זיהוי 1,204 טבלאות ו-890 View-ים..."},
                { progress: 50, status: "מנתחת שאילתות SQL...", detail: "מעבדת 2.5 מיליון שאילתות מההיסטוריה..."},
                { progress: 75, status: "בונה גרף תלויות (Lineage)...", detail: "ממפה קשרים בין אובייקטים..."},
                { progress: 90, status: "מחשבת מדדי ביצועים...", detail: "בודקת זמני ריצה ומזהה צווארי בקבוק..."},
                { progress: 100, status: "יוצרת את הדשבורד...", detail: "הניתוח הושלם!"},
            ];

            let currentStep = 0;

            const interval = setInterval(() => {
                if (currentStep >= steps.length) {
                    clearInterval(interval);
                    setTimeout(() => {
                        step2.classList.add('hidden');
                        step3.classList.remove('hidden');
                        step3.classList.add('fade-in-section');
                        renderDashboard();
                    }, 500);
                    return;
                }

                const step = steps[currentStep];
                progressBar.style.width = `${step.progress}%`;
                progressStatus.innerText = step.status;
                
                const detailEl = document.createElement('p');
                detailEl.className = 'analysis-step text-gray-400 flex items-center gap-2';
                detailEl.innerHTML = `<i data-feather="check-circle" class="w-5 h-5 text-green-500"></i> ${step.detail}`;
                analysisDetails.appendChild(detailEl);
                feather.replace();
                analysisDetails.scrollTop = analysisDetails.scrollHeight;

                currentStep++;
            }, 1500);
        }

        function renderDashboard() {
            renderERD();
            renderTableExplorer();
        }

        function renderERD() {
            const container = qs('#erd-container');
            container.innerHTML = ''; // Clear previous
            
            const layerColors = {
                Raw: 'border-red-500',
                Staging: 'border-yellow-500',
                Mart: 'border-green-500',
            };

            // Render tables (nodes)
            ERD_DATA.tables.forEach(table => {
                const node = document.createElement('div');
                node.id = `node-${table.id}`;
                node.className = `erd-node absolute bg-gray-900 p-2 rounded-md border-2 ${layerColors[table.layer]} shadow-lg`;
                node.style.left = `${table.x}%`;
                node.style.top = `${table.y}%`;
                node.innerHTML = `<span class="font-bold text-sm">${table.name}</span>`;
                container.appendChild(node);
            });

            // Render relations (lines)
            const svgNS = "http://www.w3.org/2000/svg";
            const svg = document.createElementNS(svgNS, "svg");
            svg.setAttribute('class', 'absolute top-0 left-0 w-full h-full');
            
            ERD_DATA.relations.forEach(rel => {
                const fromNode = qs(`#node-${rel.from}`);
                const toNode = qs(`#node-${rel.to}`);
                
                const line = document.createElementNS(svgNS, 'line');
                line.setAttribute('x1', `${fromNode.offsetLeft + fromNode.offsetWidth / 2}`);
                line.setAttribute('y1', `${fromNode.offsetTop + fromNode.offsetHeight / 2}`);
                line.setAttribute('x2', `${toNode.offsetLeft + toNode.offsetWidth / 2}`);
                line.setAttribute('y2', `${toNode.offsetTop + toNode.offsetHeight / 2}`);
                line.setAttribute('class', `erd-line stroke-current text-gray-600`);
                line.setAttribute('stroke-width', '2');
                svg.appendChild(line);
            });
            
            container.appendChild(svg);
            
            // Add interactivity
            qsa('.erd-node').forEach(node => {
                node.addEventListener('mouseover', () => {
                    const tableId = node.id.replace('node-', '');
                    highlightRelations(tableId);
                });
                 node.addEventListener('mouseout', () => {
                    clearHighlights();
                });
            });
        }
        
        function highlightRelations(tableId) {
            clearHighlights();
            const fromRels = ERD_DATA.relations.filter(r => r.from === tableId).map(r => r.to);
            const toRels = ERD_DATA.relations.filter(r => r.to === tableId).map(r => r.from);
            
            qs(`#node-${tableId}`).classList.add('highlight');
            fromRels.forEach(id => qs(`#node-${id}`).classList.add('highlight'));
            toRels.forEach(id => qs(`#node-${id}`).classList.add('highlight'));
        }
        
        function clearHighlights() {
            qsa('.erd-node.highlight').forEach(n => n.classList.remove('highlight'));
        }

        function renderTableExplorer() {
            const container = qs('#table-explorer');
            container.innerHTML = '';
            
            const layerColors = {
                Raw: 'bg-red-500/20 text-red-300',
                Staging: 'bg-yellow-500/20 text-yellow-300',
                Mart: 'bg-green-500/20 text-green-300',
            };
            
            TABLE_EXPLORER_DATA.forEach(table => {
                const el = document.createElement('div');
                el.className = 'flex justify-between items-center bg-gray-700/40 p-2 rounded-md';
                el.innerHTML = `
                    <span class="font-mono text-sm">${table.name}</span>
                    <span class="text-xs font-semibold px-2 py-1 rounded-full ${layerColors[table.layer]}">${table.layer}</span>
                `;
                container.appendChild(el);
            });
        }

        // Initial setup for Intersection Observer API for scroll animations
        const sections = qsa('section');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fade-in-section');
                }
            });
        }, { threshold: 0.1 });

        sections.forEach(section => {
            observer.observe(section);
        });

    </script>
</body>
</html>
